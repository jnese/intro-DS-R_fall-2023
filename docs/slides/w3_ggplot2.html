<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joe Nese">

<title>EDLD 651: Fall 2023 - Week 3: Data Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">EDLD 651: Fall 2023</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html" rel="" target="">
 <span class="menu-text">Syllabus</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../assignments.html" rel="" target="">
 <span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html" rel="" target="">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data_list.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../installs.html" rel="" target="">
 <span class="menu-text">Installs</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#housekeeping" id="toc-housekeeping" class="nav-link active" data-scroll-target="#housekeeping">Housekeeping</a></li>
  <li><a href="#data-visualization-with-ggplot2" id="toc-data-visualization-with-ggplot2" class="nav-link" data-scroll-target="#data-visualization-with-ggplot2">Data Visualization with {ggplot2}</a>
  <ul class="collapse">
  <li><a href="#agenda" id="toc-agenda" class="nav-link" data-scroll-target="#agenda">Agenda</a></li>
  </ul></li>
  <li><a href="#share" id="toc-share" class="nav-link" data-scroll-target="#share">Share!</a>
  <ul class="collapse">
  <li><a href="#datapasta" id="toc-datapasta" class="nav-link" data-scroll-target="#datapasta"><code>{datapasta}</code></a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#providing-grammar-for" id="toc-providing-grammar-for" class="nav-link" data-scroll-target="#providing-grammar-for">Providing grammar for:</a></li>
  <li><a href="#providing-grammar-for-1" id="toc-providing-grammar-for-1" class="nav-link" data-scroll-target="#providing-grammar-for-1">Providing grammar for:</a></li>
  </ul></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2">{ggplot2}</a>
  <ul class="collapse">
  <li><a href="#the-ggplot2-package" id="toc-the-ggplot2-package" class="nav-link" data-scroll-target="#the-ggplot2-package">The <code>{ggplot2}</code> package</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  <li><a href="#components" id="toc-components" class="nav-link" data-scroll-target="#components">Components</a></li>
  <li><a href="#basic-syntax" id="toc-basic-syntax" class="nav-link" data-scroll-target="#basic-syntax">Basic syntax</a></li>
  <li><a href="#ggplot2-template" id="toc-ggplot2-template" class="nav-link" data-scroll-target="#ggplot2-template"><code>{ggplot2}</code> template</a></li>
  <li><a href="#some-data-for-today" id="toc-some-data-for-today" class="nav-link" data-scroll-target="#some-data-for-today">Some data for today <img src="https://allisonhorst.github.io/palmerpenguins/reference/figures/lter_penguins.png" class="img-fluid" style="width:10.0%" data-fig-align="right"></a></li>
  </ul></li>
  <li><a href="#continuous-data" id="toc-continuous-data" class="nav-link" data-scroll-target="#continuous-data">Continuous Data</a>
  <ul class="collapse">
  <li><a href="#setting-up-a-plot" id="toc-setting-up-a-plot" class="nav-link" data-scroll-target="#setting-up-a-plot">Setting up a plot</a></li>
  <li><a href="#setting-up-a-plot-1" id="toc-setting-up-a-plot-1" class="nav-link" data-scroll-target="#setting-up-a-plot-1">Setting up a plot</a></li>
  <li><a href="#setting-up-a-plot-2" id="toc-setting-up-a-plot-2" class="nav-link" data-scroll-target="#setting-up-a-plot-2">Setting up a plot</a></li>
  <li><a href="#how-about-points" id="toc-how-about-points" class="nav-link" data-scroll-target="#how-about-points">How about points?</a></li>
  <li><a href="#adding-layers" id="toc-adding-layers" class="nav-link" data-scroll-target="#adding-layers">Adding layers</a></li>
  <li><a href="#color" id="toc-color" class="nav-link" data-scroll-target="#color"><code>color</code></a></li>
  <li><a href="#add-another-layer" id="toc-add-another-layer" class="nav-link" data-scroll-target="#add-another-layer">Add another layer</a></li>
  <li><a href="#add-another-layer-1" id="toc-add-another-layer-1" class="nav-link" data-scroll-target="#add-another-layer-1">Add another layer</a></li>
  <li><a href="#you-try" id="toc-you-try" class="nav-link" data-scroll-target="#you-try">You try</a></li>
  <li><a href="#lets-do-this-one-together" id="toc-lets-do-this-one-together" class="nav-link" data-scroll-target="#lets-do-this-one-together">Let’s do this one together</a></li>
  <li><a href="#color-global-vs.-conditional" id="toc-color-global-vs.-conditional" class="nav-link" data-scroll-target="#color-global-vs.-conditional"><code>color</code>: global vs.&nbsp;conditional</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#color-global-vs.-conditional-1" id="toc-color-global-vs.-conditional-1" class="nav-link" data-scroll-target="#color-global-vs.-conditional-1"><code>color</code>: global vs.&nbsp;conditional</a></li>
  <li><a href="#conditional-flow-through-layers" id="toc-conditional-flow-through-layers" class="nav-link" data-scroll-target="#conditional-flow-through-layers">Conditional flow through layers</a></li>
  <li><a href="#be-mindful-with-aes" id="toc-be-mindful-with-aes" class="nav-link" data-scroll-target="#be-mindful-with-aes">Be mindful with <code>aes()</code></a></li>
  <li><a href="#be-mindful-with-aes-1" id="toc-be-mindful-with-aes-1" class="nav-link" data-scroll-target="#be-mindful-with-aes-1">Be mindful with <code>aes()</code></a></li>
  </ul></li>
  <li><a href="#themes" id="toc-themes" class="nav-link" data-scroll-target="#themes">Themes</a>
  <ul class="collapse">
  <li><a href="#lets-talk-themes" id="toc-lets-talk-themes" class="nav-link" data-scroll-target="#lets-talk-themes">Let’s talk themes</a></li>
  </ul></li>
  <li><a href="#more-themes" id="toc-more-themes" class="nav-link" data-scroll-target="#more-themes">More themes</a>
  <ul class="collapse">
  <li><a href="#get-a-little-fancy" id="toc-get-a-little-fancy" class="nav-link" data-scroll-target="#get-a-little-fancy">Get a little fancy</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"></a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"></a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4"></a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5"></a></li>
  <li><a href="#another-option" id="toc-another-option" class="nav-link" data-scroll-target="#another-option">Another option</a></li>
  <li><a href="#line-plots" id="toc-line-plots" class="nav-link" data-scroll-target="#line-plots">Line plots</a></li>
  <li><a href="#geom_line" id="toc-geom_line" class="nav-link" data-scroll-target="#geom_line"><code>geom_line()</code></a></li>
  <li><a href="#lets-try-it" id="toc-lets-try-it" class="nav-link" data-scroll-target="#lets-try-it">Let’s try it</a></li>
  <li><a href="#layers" id="toc-layers" class="nav-link" data-scroll-target="#layers">Layers</a></li>
  </ul></li>
  <li><a href="#labels" id="toc-labels" class="nav-link" data-scroll-target="#labels">Labels</a>
  <ul class="collapse">
  <li><a href="#axis-labels" id="toc-axis-labels" class="nav-link" data-scroll-target="#axis-labels">Axis Labels</a></li>
  <li><a href="#title" id="toc-title" class="nav-link" data-scroll-target="#title">Title</a></li>
  <li><a href="#subtitle" id="toc-subtitle" class="nav-link" data-scroll-target="#subtitle">Subtitle</a></li>
  <li><a href="#caption" id="toc-caption" class="nav-link" data-scroll-target="#caption">Caption</a></li>
  <li><a href="#tag" id="toc-tag" class="nav-link" data-scroll-target="#tag">Tag</a></li>
  <li><a href="#legend-one-way" id="toc-legend-one-way" class="nav-link" data-scroll-target="#legend-one-way">Legend (one way)</a></li>
  </ul></li>
  <li><a href="#facets" id="toc-facets" class="nav-link" data-scroll-target="#facets">Facets</a>
  <ul class="collapse">
  <li><a href="#faceting" id="toc-faceting" class="nav-link" data-scroll-target="#faceting">Faceting</a></li>
  <li><a href="#faceting-1" id="toc-faceting-1" class="nav-link" data-scroll-target="#faceting-1">Faceting</a></li>
  <li><a href="#careful-about-the" id="toc-careful-about-the" class="nav-link" data-scroll-target="#careful-about-the">Careful about the <code>~</code></a></li>
  <li><a href="#faceting-2" id="toc-faceting-2" class="nav-link" data-scroll-target="#faceting-2">Faceting</a></li>
  <li><a href="#alternative-specification---vars" id="toc-alternative-specification---vars" class="nav-link" data-scroll-target="#alternative-specification---vars">Alternative specification - <code>vars()</code></a></li>
  </ul></li>
  <li><a href="#heatmaps" id="toc-heatmaps" class="nav-link" data-scroll-target="#heatmaps">Heatmaps</a>
  <ul class="collapse">
  <li><a href="#example-with-correlations" id="toc-example-with-correlations" class="nav-link" data-scroll-target="#example-with-correlations">Example with correlations</a></li>
  <li><a href="#heatmap" id="toc-heatmap" class="nav-link" data-scroll-target="#heatmap">Heatmap</a></li>
  <li><a href="#viridis" id="toc-viridis" class="nav-link" data-scroll-target="#viridis">Viridis</a></li>
  </ul></li>
  <li><a href="#categorical-data" id="toc-categorical-data" class="nav-link" data-scroll-target="#categorical-data">Categorical Data</a>
  <ul class="collapse">
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#histogram" id="toc-histogram" class="nav-link" data-scroll-target="#histogram">Histogram</a></li>
  <li><a href="#transparency---alpha" id="toc-transparency---alpha" class="nav-link" data-scroll-target="#transparency---alpha">Transparency - <code>alpha</code></a></li>
  <li><a href="#color-vs.-fill" id="toc-color-vs.-fill" class="nav-link" data-scroll-target="#color-vs.-fill"><code>color</code> vs.&nbsp;<code>fill</code></a></li>
  <li><a href="#color-vs.-fill-1" id="toc-color-vs.-fill-1" class="nav-link" data-scroll-target="#color-vs.-fill-1"><code>color</code> vs.&nbsp;<code>fill</code></a></li>
  <li><a href="#how-would-we-change-the-color-of-this-plot" id="toc-how-would-we-change-the-color-of-this-plot" class="nav-link" data-scroll-target="#how-would-we-change-the-color-of-this-plot">How would we change the color of this plot?</a></li>
  <li><a href="#how-would-we-change-the-color-of-this-plot-1" id="toc-how-would-we-change-the-color-of-this-plot-1" class="nav-link" data-scroll-target="#how-would-we-change-the-color-of-this-plot-1">How would we change the color of this plot?</a></li>
  <li><a href="#how-would-we-change-the-color-fill-of-this-plot" id="toc-how-would-we-change-the-color-fill-of-this-plot" class="nav-link" data-scroll-target="#how-would-we-change-the-color-fill-of-this-plot">How would we change the <del>color</del> fill of this plot?</a></li>
  <li><a href="#color-by-variable" id="toc-color-by-variable" class="nav-link" data-scroll-target="#color-by-variable">Color by variable</a></li>
  <li><a href="#density-plot" id="toc-density-plot" class="nav-link" data-scroll-target="#density-plot">Density plot</a></li>
  <li><a href="#density-plot-1" id="toc-density-plot-1" class="nav-link" data-scroll-target="#density-plot-1">Density plot</a></li>
  <li><a href="#density-plot-2" id="toc-density-plot-2" class="nav-link" data-scroll-target="#density-plot-2">Density plot</a></li>
  <li><a href="#possible-alternative-facet_wrap" id="toc-possible-alternative-facet_wrap" class="nav-link" data-scroll-target="#possible-alternative-facet_wrap">Possible alternative? <code>facet_wrap</code></a></li>
  <li><a href="#even-better" id="toc-even-better" class="nav-link" data-scroll-target="#even-better">Even better</a></li>
  <li><a href="#density-ridges" id="toc-density-ridges" class="nav-link" data-scroll-target="#density-ridges">Density Ridges</a></li>
  <li><a href="#fill" id="toc-fill" class="nav-link" data-scroll-target="#fill"><code>fill</code></a></li>
  <li><a href="#add-transparency-for-clarity" id="toc-add-transparency-for-clarity" class="nav-link" data-scroll-target="#add-transparency-for-clarity">Add transparency for clarity</a></li>
  <li><a href="#viridis-1" id="toc-viridis-1" class="nav-link" data-scroll-target="#viridis-1">Viridis</a></li>
  <li><a href="#same-fill-function-different-option" id="toc-same-fill-function-different-option" class="nav-link" data-scroll-target="#same-fill-function-different-option">Same fill function, different “<code>option</code>”</a></li>
  <li><a href="#candy-rankings-fivethirtyeight" id="toc-candy-rankings-fivethirtyeight" class="nav-link" data-scroll-target="#candy-rankings-fivethirtyeight">Candy rankings <code>{fivethirtyeight}</code></a></li>
  <li><a href="#boxplot" id="toc-boxplot" class="nav-link" data-scroll-target="#boxplot">Boxplot</a></li>
  <li><a href="#violin-plots" id="toc-violin-plots" class="nav-link" data-scroll-target="#violin-plots">Violin plots</a></li>
  <li><a href="#bar-charts" id="toc-bar-charts" class="nav-link" data-scroll-target="#bar-charts">Bar Charts</a></li>
  <li><a href="#barcol-charts" id="toc-barcol-charts" class="nav-link" data-scroll-target="#barcol-charts">Bar/Col Charts</a></li>
  <li><a href="#geom_bar" id="toc-geom_bar" class="nav-link" data-scroll-target="#geom_bar"><code>geom_bar()</code></a></li>
  <li><a href="#summarized_mpg-data" id="toc-summarized_mpg-data" class="nav-link" data-scroll-target="#summarized_mpg-data"><em>summarized_mpg</em> data</a></li>
  <li><a href="#geom_col" id="toc-geom_col" class="nav-link" data-scroll-target="#geom_col"><code>geom_col()</code></a></li>
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6"></a></li>
  <li><a href="#section-7" id="toc-section-7" class="nav-link" data-scroll-target="#section-7"></a></li>
  <li><a href="#section-8" id="toc-section-8" class="nav-link" data-scroll-target="#section-8"></a></li>
  <li><a href="#what-happened" id="toc-what-happened" class="nav-link" data-scroll-target="#what-happened">What happened?</a></li>
  <li><a href="#change-the-order-of-the-x-axis" id="toc-change-the-order-of-the-x-axis" class="nav-link" data-scroll-target="#change-the-order-of-the-x-axis">Change the order of the <em>x</em>-axis</a></li>
  <li><a href="#section-9" id="toc-section-9" class="nav-link" data-scroll-target="#section-9"></a></li>
  <li><a href="#section-10" id="toc-section-10" class="nav-link" data-scroll-target="#section-10"></a></li>
  <li><a href="#more-bar-plot-options" id="toc-more-bar-plot-options" class="nav-link" data-scroll-target="#more-bar-plot-options">More bar plot options</a></li>
  <li><a href="#stacked-bar-plot" id="toc-stacked-bar-plot" class="nav-link" data-scroll-target="#stacked-bar-plot">Stacked bar plot</a></li>
  <li><a href="#grouped-bar-plot" id="toc-grouped-bar-plot" class="nav-link" data-scroll-target="#grouped-bar-plot">Grouped bar plot</a></li>
  <li><a href="#rotating-labels" id="toc-rotating-labels" class="nav-link" data-scroll-target="#rotating-labels">Rotating Labels</a></li>
  <li><a href="#flip-the-coordinates" id="toc-flip-the-coordinates" class="nav-link" data-scroll-target="#flip-the-coordinates">Flip the coordinates</a></li>
  <li><a href="#alternatively" id="toc-alternatively" class="nav-link" data-scroll-target="#alternatively">Alternatively</a></li>
  <li><a href="#sometimes-some-redundancy-works-well" id="toc-sometimes-some-redundancy-works-well" class="nav-link" data-scroll-target="#sometimes-some-redundancy-works-well">Sometimes some redundancy works well</a></li>
  <li><a href="#geom_-review" id="toc-geom_-review" class="nav-link" data-scroll-target="#geom_-review"><code>geom_*()</code> Review</a></li>
  <li><a href="#challenge" id="toc-challenge" class="nav-link" data-scroll-target="#challenge">Challenge</a></li>
  </ul></li>
  <li><a href="#next-time" id="toc-next-time" class="nav-link" data-scroll-target="#next-time">Next time</a>
  <ul class="collapse">
  <li><a href="#before-next-class" id="toc-before-next-class" class="nav-link" data-scroll-target="#before-next-class">Before next class</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="w3_ggplot2.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 3: Data Visualization</h1>
<p class="subtitle lead"><code>{ggplot2}</code></p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Joe Nese </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Oregon<br>Fall 2023
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  

</header>

<section id="housekeeping" class="level2">
<h2 class="anchored" data-anchor-id="housekeeping">Housekeeping</h2>
<ul>
<li>Homework 1 due today</li>
<li>Groups due today
<ul>
<li>I need emails from everyone by 5pm (if you have not already emailed)</li>
</ul></li>
</ul>
</section>
<section id="data-visualization-with-ggplot2" class="level1">
<h1>Data Visualization with {ggplot2}</h1>
<p>Week 3</p>
<section id="agenda" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="agenda">Agenda</h2>
<p><code>{ggplot2}</code></p>
<ul>
<li>syntax</li>
<li>continuous data visualizations</li>
<li>categorical data visualizations</li>
<li>options
<ul>
<li>color/fill</li>
<li>transparency</li>
<li>labels</li>
<li>facets</li>
</ul></li>
</ul>
<p><strong>Learning Objectives</strong></p>
<ul>
<li>Understand the basic syntax requirements for <code>{ggplot2}</code></li>
<li>Recognize various options for displaying continuous and categorical data</li>
<li>Familiarity with various <code>{ggplot2}</code> options
<ul>
<li>color/fill</li>
<li>transparency</li>
<li>labels</li>
<li>facets</li>
</ul></li>
</ul>
</section>
</section>
<section id="share" class="level1 page-columns page-full">
<h1>Share!</h1>
<section id="datapasta" class="level2">
<h2 class="anchored" data-anchor-id="datapasta"><a href="https://github.com/MilesMcBain/datapasta"><code>{datapasta}</code></a></h2>
<ul>
<li>Copy and paste data to and from <code>R</code></li>
<li>VERY handy!</li>
<li>Good for <a href="https://github.com/tidyverse/reprex">reprex</a>
<ul>
<li>posting questions on Rstudio Community or stackoverflow</li>
</ul></li>
</ul>
<p><span style="color:#D55E00;"><strong>demo</strong></span></p>
</section>
<section id="section" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="section"></h2>
<p><img src="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/b467ee99-87e3-4663-ae27-aaf027f940ce_rw_1920.png?h=0573cb8b960ba2f2c8486188761f03e0" class="img-fluid" style="width:70.0%"></p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Credit <a href="https://allisonhorst.com/data-science-art">Allison Horst</a></p>
</div></div></section>
<section id="providing-grammar-for" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="providing-grammar-for">Providing grammar for:</h2>
<ul>
<li>Graphics
<ul>
<li><code>{ggplot2}</code></li>
</ul></li>
<li>Data manipulations
<ul>
<li><code>{dplyr}</code></li>
<li><code>{tidyr}</code></li>
</ul></li>
<li>Expanding area of specialized topics
<ul>
<li><code>{lubridate}</code></li>
<li><code>{glue}</code></li>
<li><code>{tidymodels}</code></li>
</ul></li>
<li>Many more…</li>
</ul>
</section>
<section id="providing-grammar-for-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="providing-grammar-for-1">Providing grammar for:</h2>
<ul>
<li>Graphics
<ul>
<li><mark><code>{ggplot2}</code></mark></li>
</ul></li>
<li>Data manipulations
<ul>
<li><code>{dplyr}</code></li>
<li><code>{tidyr}</code></li>
</ul></li>
<li>Expanding area of specialized topics
<ul>
<li><code>{lubridate}</code></li>
<li><code>{glue}</code></li>
<li><code>{tidymodels}</code></li>
</ul></li>
<li>Many more…</li>
</ul>
</section>
</section>
<section id="ggplot2" class="level1">
<h1>{ggplot2}</h1>
<section id="the-ggplot2-package" class="level2">
<h2 class="anchored" data-anchor-id="the-ggplot2-package">The <code>{ggplot2}</code> package</h2>
<p><code>gg</code> stands for the “grammar of graphics”</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img src="https://ggplot2-book.org/cover.jpg" class="img-fluid" style="width:50.0%"></p>
</div><div class="column" style="width:50%;">
<p><img src="https://images-us.bookshop.org/ingram/9780387245447.jpg?height=500&amp;v=v2" class="img-fluid"></p>
</div>
</div>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<p>The <code>{ggplot2}</code> package is one of the most popular <code>R</code> packages, and there are many resources to learn the syntax</p>
<ul>
<li>ggplot2 book (email me for digital copy)</li>
<li>Posit <a href="https://rstudio.github.io/cheatsheets/html/data-visualization.html?_gl=1*1j49xha*_ga*MTM2MTAwMDI2MS4xNjk2OTY0NDAy*_ga_2C0WZ1JHG0*MTY5Njk2NDQwMi4xLjAuMTY5Njk2NDQwMi4wLjAuMA..">cheat sheet</a>
<ul>
<li>Can be helpful, perhaps more so after a little experience</li>
</ul></li>
<li><a href="http://www.cookbook-r.com/Graphs/">R Graphics Cookbook</a></li>
<li><a href="https://www.r-graph-gallery.com/index.html">R Graph Gallery</a>
<ul>
<li>past students have really liked this one</li>
</ul></li>
</ul>
</section>
<section id="components" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="components">Components</h2>
<p>Every <code>ggplot</code> plot has three components</p>
<ol type="1">
<li><strong>data</strong>
<ul>
<li>the <code>data</code> used to produce the plot</li>
</ul></li>
<li><strong>aesthetic mappings (<code>aes</code>)</strong>
<ul>
<li>between variables and visual properties</li>
</ul></li>
<li><strong>layer(s)</strong>
<ul>
<li>usually through the <code>geom_*()</code> function to produce geometric shapes to be rendered</li>
</ul></li>
</ol>
<p>. . .</p>
<p><strong><code>ggplot()</code> always takes a data frame (tibble) as the first argument</strong></p>
</section>
<section id="basic-syntax" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="basic-syntax">Basic syntax</h2>
<p><span style="color:#D55E00">ggplot(</span><span style="color:#0072B2">data</span>, <span style="color:#009E73">aes(</span>x = xvar, y = yvar<span style="color:#009E73">)</span><span style="color:#D55E00">)</span> <span style="color:#CC79A7">+</span> <br> <span style="color:#E69f00">geom_function()</span></p>
<p>. . .</p>
<p><span style="color:#D55E00">ggplot()</span> = the function is <code>ggplot</code> and the package is <code>{ggplot2}</code></p>
<p>. . .</p>
<p><span style="color:#0072B2">data</span> = the data to be plotted</p>
<p>. . .</p>
<p><span style="color:#009E73">aes(</span>x = xvar, y = yvar<span style="color:#009E73">)</span> = the <code>aes</code>thetic mappings</p>
<p>. . .</p>
<p><span style="color:#E69f00">geom_function()</span> = the <code>geom</code>etrics of the plot; the “<span style="color:#E69f00">function()</span>” here represents any of the <code>geom_*</code> offerings</p>
<p>. . .</p>
<div class="fragment">
<p><mark>note the <span style="color:#CC79A7">+</span> and <ins>NOT</ins> the <code>%&gt;%</code></mark></p>
</div>
</section>
<section id="ggplot2-template" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2-template"><code>{ggplot2}</code> template</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-1_b41e02500e1d76b6ea172b17c5a7fb53">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(mappings)) <span class="sc">+</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p>or equivalently</p>
<p>. . .</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-2_149e2ba9e5f8b545b279a4648e7e2452">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(mappings)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="some-data-for-today" class="level2">
<h2 class="anchored" data-anchor-id="some-data-for-today">Some data for today <img src="https://allisonhorst.github.io/palmerpenguins/reference/figures/lter_penguins.png" class="img-fluid" style="width:10.0%" data-fig-align="right"></h2>
<p><span style="color:#D55E00;">run the following</span></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-3_4df87e386317276c3da4e42f74c7088c">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="continuous-data" class="level1 page-columns page-full">
<h1>Continuous Data</h1>
<section id="setting-up-a-plot" class="level2">
<h2 class="anchored" data-anchor-id="setting-up-a-plot">Setting up a plot</h2>
<p>Run the following code. What do you see?</p>
<div class="cell" data-output-location="slide" data-hash="w3_ggplot2_cache/revealjs/pengemp_abe2d6e95fc891c56b05811c296b27aa">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/pengemp-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="setting-up-a-plot-1" class="level2">
<h2 class="anchored" data-anchor-id="setting-up-a-plot-1">Setting up a plot</h2>
<p>We have to add some layers!</p>
<p><img src="./images/owl.PNG" class="img-fluid"></p>
</section>
<section id="setting-up-a-plot-2" class="level2">
<h2 class="anchored" data-anchor-id="setting-up-a-plot-2">Setting up a plot</h2>
<p>It’s ready for you to add some <code>geom</code>etric <ins>layers</ins>…what should we add?</p>
</section>
<section id="how-about-points" class="level2">
<h2 class="anchored" data-anchor-id="how-about-points">How about points?</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-4_f8720f9ee218535227de78876ef8b328">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-4-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="adding-layers" class="level2">
<h2 class="anchored" data-anchor-id="adding-layers">Adding layers</h2>
<ul>
<li>In the previous slide, we added a layer of points</li>
<li>The <code>geom_point()</code> layer is a function, complete with it’s own arguments</li>
</ul>
<p>. . .</p>
<p>Let’s change the color of the points</p>
<p>How would you change the color of the points?</p>
<ins>
or
</ins>
<p>How would you find out about changing the color of the points?</p>
<p>. . .</p>
<p><code>?geom_point</code></p>
</section>
<section id="color" class="level2">
<h2 class="anchored" data-anchor-id="color"><code>color</code></h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/peng-2_09b58a48f59e6889db2a1343f865e4c7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"magenta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/peng-2-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="add-another-layer" class="level2">
<h2 class="anchored" data-anchor-id="add-another-layer">Add another layer</h2>
<p>Let’s add a smoothed line with <code>geom_smooth()</code></p>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-5_e444cd356324412569ee4c1a04fa7b3d">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"magenta"</span>) <span class="sc">+</span> </span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-5-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="add-another-layer-1" class="level2">
<h2 class="anchored" data-anchor-id="add-another-layer-1">Add another layer</h2>
<p>Let’s add a smoothed line with <code>geom_smooth()</code></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-6_3e1209f5b7dd40ab6da814ed88b1ea48">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"magenta"</span>) <span class="sc">+</span> </span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Note</em>: This is <strong>not</strong> the same as <code>geom_line()</code>. We are fitting a line of best fit with <code>geom_smooth()</code></p>
</section>
<section id="you-try" class="level2">
<h2 class="anchored" data-anchor-id="you-try">You try</h2>
<p>You probably got the <span style="color:#CC79A7;">message</span> below when you ran (defaults)</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/peng-4_3c909709115f40740cdf4f2e03089897">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"magenta"</span>) <span class="sc">+</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/peng-4-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p>. . .</p>
<p>Change the <code>method</code> to <code>"lm"</code></p>
</section>
<section id="lets-do-this-one-together" class="level2">
<h2 class="anchored" data-anchor-id="lets-do-this-one-together">Let’s do this one together</h2>
<p>Look at the help page – <code>?geom_smooth</code></p>
<ol type="1">
<li><p>Remove the <code>confidence</code> interval around the line</p></li>
<li><p>Now change the <code>*SE*</code> band to reflect a 68% confidence interval</p></li>
</ol>
</section>
<section id="color-global-vs.-conditional" class="level2">
<h2 class="anchored" data-anchor-id="color-global-vs.-conditional"><code>color</code>: global vs.&nbsp;conditional</h2>
<p>Prior examples changed colors globally</p>
<ul>
<li><code>geom_point(color = "magenta")</code></li>
</ul>
<p>. . .</p>
<p>Use <code>aes()</code> to access variables, and color according to a specific variable</p>
<p>. . .</p>
<ul>
<li>We use variable names within <code>aes()</code></li>
</ul>
<p>. . .</p>
<p>Let’s check the data again (<code>head()</code>) and the “species” variable (<code>table()</code>)</p>
<p>. . .</p>
<p><span style="color:#D55E00;">let’s do this together</span></p>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/peng-5_effa48f4d55555c879fc34b57dc191a5">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/peng-5-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="color-global-vs.-conditional-1" class="level2">
<h2 class="anchored" data-anchor-id="color-global-vs.-conditional-1"><code>color</code>: global vs.&nbsp;conditional</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-7_7e28554f20b185f3edda808e06bac791">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>When we did <code>geom_point(color = "magenta")</code> we put quotes around the color</li>
<li>Why now is “species” not in quotes?</li>
</ul>
<p>. . .</p>
<ul>
<li>color names/hex codes are in quotes <strong>NOT</strong> in the <code>aes()</code></li>
<li>variable names are in the <code>aes()</code> <strong>NOT</strong> in quotes</li>
<li><code>aes()</code> is where you map to your data!</li>
</ul>
</section>
<section id="conditional-flow-through-layers" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="conditional-flow-through-layers">Conditional flow through layers</h2>
<p>If we use something like <code>color = “x”</code> in the first <code>aes</code>thetic, it will carry on through all additional layers</p>
<p>These two codes are the same:</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-8_bddf774a9102b242e128d7e46c233441">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-9_f463d99adcfd826f105aab830b10d9f0">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p>But these two are not…why? <span style="color:#D55E00;">run to find out</span></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-10_541f320cf425ea44d0e10d8f9bb63431">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species)) <span class="sc">+</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-11_813d7da6bd9e8a2db62a106ae603ce39">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g, <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="be-mindful-with-aes" class="level2">
<h2 class="anchored" data-anchor-id="be-mindful-with-aes">Be mindful with <code>aes()</code></h2>
<p>Using <code>aes()</code> when you <strong>don’t</strong> need it</p>
<p>What is happening here?</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-12_722ef8e83396f3eaef2aa8f8bf8faf23">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="st">"blue"</span>)) <span class="sc">+</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-12-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="be-mindful-with-aes-1" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="be-mindful-with-aes-1">Be mindful with <code>aes()</code></h2>
<p><strong>Not</strong> using <code>aes()</code> when you need it</p>
<p>What is happening here?</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-13_745225898af5fae8dd2fa3b73d7d1dab">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> species) <span class="sc">+</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in list2(na.rm = na.rm, ...): object 'species' not found</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p>Kind of helpful message here.</p>
</div></div></section>
</section>
<section id="themes" class="level1">
<h1>Themes</h1>
<section id="lets-talk-themes" class="level2">
<h2 class="anchored" data-anchor-id="lets-talk-themes">Let’s talk themes</h2>
<ul>
<li>The default is <code>theme_gray()</code>
<ul>
<li>I don’t like it</li>
</ul></li>
<li>But there are a lot of build-in alternative in <code>{ggplot2}</code>
<ul>
<li><code>theme_minimal()</code> is my favorite</li>
</ul></li>
<li>Check out the <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/"><code>{ggthemes}</code></a> package for a lot of alternatives
<ul>
<li>These days I often use the <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/colorblind/"><code>colorblind</code></a> theme for discrete values in my plots</li>
</ul></li>
<li>Check out the <a href="https://github.com/calligross/ggthemeassist"><code>{ggthemeassist}</code></a> add-in</li>
</ul>
</section>
</section>
<section id="more-themes" class="level1">
<h1>More themes</h1>
<ul>
<li>The <a href="https://github.com/hrbrmstr/hrbrthemes"><code>{hrbrthemes}</code></a> are nice</li>
<li>Consider <a href="https://bookdown.org/rdpeng/RProgDA/building-a-new-theme.html">building your own theme!</a></li>
<li>Or Google around</li>
</ul>
<p>. . .</p>
<ul>
<li>Set the theme globally
<ul>
<li>One of the first lines in your .qmd file (after you load packages) could be:</li>
</ul></li>
</ul>
<p><code>theme_set(theme_minimal())</code></p>
<section id="get-a-little-fancy" class="level2">
<h2 class="anchored" data-anchor-id="get-a-little-fancy">Get a little fancy</h2>
<ul>
<li>You can use <code>geom_point()</code> for more than one layer</li>
<li>You can also use a different data source on a layer</li>
<li>Use these two properties to highlight points
<ul>
<li>How about penguins from Torgersen Island?</li>
</ul></li>
</ul>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-14_81ebb7c5d087c3f0fe62bb9701abebff">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-14-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-15_58b809d775ac141681751a9064594067">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(penguins, island <span class="sc">==</span> <span class="st">"Torgersen"</span>), <span class="at">color =</span> <span class="st">"magenta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-15-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4"></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-16_3b7346b75c9fe6acf08756e4494c42d0">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(penguins, island <span class="sc">==</span> <span class="st">"Torgersen"</span>), <span class="at">color =</span> <span class="st">"magenta"</span>) <span class="sc">+</span> </span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-16-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-17_0d13d92c61b182f261895588abc095b4">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> </span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(penguins, island <span class="sc">==</span> <span class="st">"Torgersen"</span>), <span class="at">color =</span> <span class="st">"magenta"</span>) <span class="sc">+</span> </span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-17-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="another-option" class="level2">
<h2 class="anchored" data-anchor-id="another-option">Another option</h2>
<p><code>{gghighlight}</code> varying flexibility</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-18_e9a19ac71b129b8786bb7ed39af391fb">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"magenta"</span>) <span class="sc">+</span> </span>
<span id="cb25-3"><a href="#cb25-3"></a>  gghighlight<span class="sc">::</span><span class="fu">gghighlight</span>(island <span class="sc">==</span> <span class="st">"Torgersen"</span>) <span class="sc">+</span> </span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-18-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="line-plots" class="level2">
<h2 class="anchored" data-anchor-id="line-plots">Line plots</h2>
<ul>
<li>When should you use line plots instead of smooths?</li>
</ul>
<p>. . .</p>
<pre><code>+ usually when time is involved</code></pre>
<p>. . .</p>
<ul>
<li>What are some good candidate data for line plots?</li>
</ul>
<p>. . .</p>
<pre><code>+ observed versus model-implied (estimated)</code></pre>
</section>
<section id="geom_line" class="level2">
<h2 class="anchored" data-anchor-id="geom_line"><code>geom_line()</code></h2>
<p>Classic time series example</p>
<p><code>economics</code> data from <code>{ggplot2}</code></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-19_b058da58fc79f05206f618ebe856b873">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>economics</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 574 × 6
   date         pce    pop psavert uempmed unemploy
   &lt;date&gt;     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1 1967-07-01  507. 198712    12.6     4.5     2944
 2 1967-08-01  510. 198911    12.6     4.7     2945
 3 1967-09-01  516. 199113    11.9     4.6     2958
 4 1967-10-01  512. 199311    12.9     4.9     3143
 5 1967-11-01  517. 199498    12.8     4.7     3066
 6 1967-12-01  525. 199657    11.8     4.8     3018
 7 1968-01-01  531. 199808    11.7     5.1     2878
 8 1968-02-01  534. 199920    12.3     4.5     3001
 9 1968-03-01  544. 200056    11.7     4.1     2877
10 1968-04-01  544  200208    12.3     4.6     2709
# ℹ 564 more rows</code></pre>
</div>
</div>
</section>
<section id="lets-try-it" class="level2">
<h2 class="anchored" data-anchor-id="lets-try-it">Let’s try it</h2>
<p>How do you think we’d fit a line plot to these data, showing unemployment (“<em>unemploy</em>”) over time?</p>
<p>. . .</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-20_32c85b29de99ef7487882db353fcd3e2">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-20-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="layers" class="level2">
<h2 class="anchored" data-anchor-id="layers">Layers</h2>
<p>What happens when we layer geom_line and geom_point?</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-21_4018acbbf800887a0626c9d39132f4ca">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span style="color:#D55E00;">try it!</span></p>
<p>. . .</p>
<p>Not the best instance of this</p>
<p>It would work better on a plot with fewer time points, but you get the idea</p>
</section>
</section>
<section id="labels" class="level1">
<h1>Labels</h1>
<p><code>labs()</code></p>
<section id="axis-labels" class="level2">
<h2 class="anchored" data-anchor-id="axis-labels">Axis Labels</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/axes-1_55d5f3b8a80e2e1090ad20e886cafb91">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb32-5"><a href="#cb32-5"></a>       <span class="at">y =</span> <span class="st">"Unemployment"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/axes-1-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="title" class="level2">
<h2 class="anchored" data-anchor-id="title">Title</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/axes-2_7bc33ac2f55c83fb2a36d7a5b96ce5e1">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date"</span>, </span>
<span id="cb33-5"><a href="#cb33-5"></a>       <span class="at">y =</span> <span class="st">"Unemployment"</span>,</span>
<span id="cb33-6"><a href="#cb33-6"></a>       <span class="at">title =</span> <span class="st">"Unemployment Over Time"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/axes-2-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="subtitle" class="level2">
<h2 class="anchored" data-anchor-id="subtitle">Subtitle</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/axes-3_8e69d968b0c42c4e54349bc491c24d7e">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date"</span>, </span>
<span id="cb34-5"><a href="#cb34-5"></a>       <span class="at">y =</span> <span class="st">"Unemployment"</span>,</span>
<span id="cb34-6"><a href="#cb34-6"></a>       <span class="at">title =</span> <span class="st">"Unemployment Over Time"</span>,</span>
<span id="cb34-7"><a href="#cb34-7"></a>       <span class="at">subtitle =</span> <span class="st">"This is the subtitle"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/axes-3-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="caption" class="level2">
<h2 class="anchored" data-anchor-id="caption">Caption</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/axes-4_327d4c155bbb6a8e919e361894b6d6f8">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date"</span>, </span>
<span id="cb35-5"><a href="#cb35-5"></a>       <span class="at">y =</span> <span class="st">"Unemployment"</span>,</span>
<span id="cb35-6"><a href="#cb35-6"></a>       <span class="at">title =</span> <span class="st">"Unemployment Over Time"</span>,</span>
<span id="cb35-7"><a href="#cb35-7"></a>       <span class="at">subtitle =</span> <span class="st">"This is the subtitle"</span>,</span>
<span id="cb35-8"><a href="#cb35-8"></a>       <span class="at">caption =</span> <span class="st">"Created by Joe Nese"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/axes-4-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="tag" class="level2">
<h2 class="anchored" data-anchor-id="tag">Tag</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/axes-5_e7f15f6d7ad4e951e47858d5e0ef8b47">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">ggplot</span>(economics, <span class="fu">aes</span>(date, unemploy)) <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date"</span>, </span>
<span id="cb36-5"><a href="#cb36-5"></a>       <span class="at">y =</span> <span class="st">"Unemployment"</span>,</span>
<span id="cb36-6"><a href="#cb36-6"></a>       <span class="at">title =</span> <span class="st">"Unemployment Over Time"</span>,</span>
<span id="cb36-7"><a href="#cb36-7"></a>       <span class="at">subtitle =</span> <span class="st">"This is the subtitle"</span>,</span>
<span id="cb36-8"><a href="#cb36-8"></a>       <span class="at">caption =</span> <span class="st">"Created by Joe Nese"</span>,</span>
<span id="cb36-9"><a href="#cb36-9"></a>       <span class="at">tag =</span> <span class="st">"(A)"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/axes-5-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="legend-one-way" class="level2">
<h2 class="anchored" data-anchor-id="legend-one-way">Legend (one way)</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/axes-6_180dcbf466bf9f847a88ee6a717fe807">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g, <span class="at">color =</span> species)) <span class="sc">+</span> <span class="co"># 'color = '</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Bill Length (mm)"</span>,</span>
<span id="cb37-5"><a href="#cb37-5"></a>       <span class="at">y =</span> <span class="st">"Body Mass (g)"</span>,</span>
<span id="cb37-6"><a href="#cb37-6"></a>       <span class="at">color =</span> <span class="st">"Species!"</span>) <span class="co"># 'color = '</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/axes-6-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
</section>
<section id="facets" class="level1">
<h1>Facets</h1>
<section id="faceting" class="level2">
<h2 class="anchored" data-anchor-id="faceting">Faceting</h2>
<ul>
<li><p>One of the most powerful features of <code>{ggplot2}</code></p></li>
<li><p>Produce <em>n</em> plots by a specific variable</p></li>
<li><p><code>facet_wrap()</code></p>
<ul>
<li>wrap a sequence of panels into two dimensions</li>
<li>based on variables(s)</li>
</ul></li>
</ul>
</section>
<section id="faceting-1" class="level2">
<h2 class="anchored" data-anchor-id="faceting-1">Faceting</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/facet-1_3c9f6e068e497ac76bf42acc2e5f6cde">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span> </span>
<span id="cb38-2"><a href="#cb38-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb38-3"><a href="#cb38-3"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb38-4"><a href="#cb38-4"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/facet-1-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="careful-about-the" class="level2">
<h2 class="anchored" data-anchor-id="careful-about-the">Careful about the <code>~</code></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-22_2f062f028f54d07b3b001a49f415d10b">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in validate_facets(x): object 'species' not found</code></pre>
</div>
</div>
</section>
<section id="faceting-2" class="level2">
<h2 class="anchored" data-anchor-id="faceting-2">Faceting</h2>
<p>two variables (like a matrix)</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-23_3f268a54b2a48c62e271b22bdd7b45bc">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span> </span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4"></a>  <span class="fu">facet_wrap</span>(species <span class="sc">~</span> year) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-23-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="alternative-specification---vars" class="level2">
<h2 class="anchored" data-anchor-id="alternative-specification---vars">Alternative specification - <code>vars()</code></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-24_6e655d2d3e58a85430cbbad508a791b4">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span> </span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(species))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-25_fa82fef2af579b571a6007c37527ca20">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm, body_mass_g)) <span class="sc">+</span> </span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb43-4"><a href="#cb43-4"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(species, year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="heatmaps" class="level1">
<h1>Heatmaps</h1>
<blockquote class="blockquote">
<p>A heatmap is a literal way of visualizing a table of numbers, where you substitute the numbers with colored cells. <br> - Nathan Yau</p>
</blockquote>
<ul>
<li>Useful for finding highs and lows - and sometimes patterns</li>
<li>They don’t always work well</li>
</ul>
<section id="example-with-correlations" class="level2">
<h2 class="anchored" data-anchor-id="example-with-correlations">Example with correlations</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-26_fa3c3fded1585bf2fa54fb7ed26aca66">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>corr <span class="ot">&lt;-</span> <span class="fu">cor</span>(mtcars)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>pc <span class="ot">&lt;-</span> corr <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">rownames</span>(.)) <span class="sc">%&gt;%</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span>row,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"col"</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"cor"</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  row   col      cor
  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;
1 mpg   mpg    1    
2 mpg   cyl   -0.852
3 mpg   disp  -0.848
4 mpg   hp    -0.776
5 mpg   drat   0.681
6 mpg   wt    -0.868</code></pre>
</div>
</div>
</section>
<section id="heatmap" class="level2">
<h2 class="anchored" data-anchor-id="heatmap">Heatmap</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-27_14b6c2b78de16d71762f365f8fb263e2">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pc, <span class="fu">aes</span>(row, col, <span class="at">fill =</span> cor)) <span class="sc">+</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-27-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="viridis" class="level2">
<h2 class="anchored" data-anchor-id="viridis">Viridis</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-28_21d7963216137222f3cde3846fb09402">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="fu">ggplot</span>(pc, <span class="fu">aes</span>(row, col, <span class="at">fill =</span> cor)) <span class="sc">+</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="fu">scale_fill_viridis_c</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-28-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
</section>
<section id="categorical-data" class="level1">
<h1>Categorical Data</h1>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<p><code>{fivethirtyeight}</code> package</p>
<p>dataset is <code>college_grad_students</code></p>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-29_31ff27b2b18e51e156c8f0035ab037c3">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">16</span>))</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("fivethirtyeight")</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fivethirtyeight)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co"># View(college_grad_students)</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>grad <span class="ot">&lt;-</span> college_grad_students <span class="co"># simpler reference</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>grad</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 173 × 22
   major_code major     major_category grad_total grad_sample_size grad_employed
        &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;               &lt;int&gt;            &lt;int&gt;         &lt;int&gt;
 1       5601 Construc… Industrial Ar…       9173              200          7098
 2       6004 Commerci… Arts                53864              882         40492
 3       6211 Hospital… Business            24417              437         18368
 4       2201 Cosmetol… Industrial Ar…       5411               72          3590
 5       2001 Communic… Computers &amp; M…       9109              171          7512
 6       3201 Court Re… Law &amp; Public …       1542               22          1008
 7       6206 Marketin… Business           190996             3738        151570
 8       1101 Agricult… Agriculture &amp;…      17488              386         13104
 9       2101 Computer… Computers &amp; M…       5611               98          4716
10       1904 Advertis… Communication…      33928              688         28517
# ℹ 163 more rows
# ℹ 16 more variables: grad_employed_fulltime_yearround &lt;int&gt;,
#   grad_unemployed &lt;int&gt;, grad_unemployment_rate &lt;dbl&gt;, grad_p25th &lt;dbl&gt;,
#   grad_median &lt;dbl&gt;, grad_p75th &lt;int&gt;, nongrad_total &lt;int&gt;,
#   nongrad_employed &lt;int&gt;, nongrad_employed_fulltime_yearround &lt;int&gt;,
#   nongrad_unemployed &lt;int&gt;, nongrad_unemployment_rate &lt;dbl&gt;,
#   nongrad_p25th &lt;dbl&gt;, nongrad_median &lt;dbl&gt;, nongrad_p75th &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="histogram" class="level2">
<h2 class="anchored" data-anchor-id="histogram">Histogram</h2>
<p>Histogram of “grad_total”</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-30_c3c40dfe6d312727b35a62d7a61e4e25">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-30-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="transparency---alpha" class="level2">
<h2 class="anchored" data-anchor-id="transparency---alpha">Transparency - <code>alpha</code></h2>
<p>Add some transparency – perhaps this looks nicer</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-31_59c96b8c054c2dbe310f6efbee98a91d">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-31-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="color-vs.-fill" class="level2">
<h2 class="anchored" data-anchor-id="color-vs.-fill"><code>color</code> vs.&nbsp;<code>fill</code></h2>
<p><strong>In general</strong></p>
<ul>
<li><code>color</code> defines the color a geom is <em>outlined</em></li>
<li><code>fill</code> defines the color a geom is <em>filled</em></li>
</ul>
</section>
<section id="color-vs.-fill-1" class="level2">
<h2 class="anchored" data-anchor-id="color-vs.-fill-1"><code>color</code> vs.&nbsp;<code>fill</code></h2>
<p>For example:</p>
<ul>
<li><code>geom_point()</code> default has only has a color and <strong>NO</strong> fill because they’re just points</li>
<li>Point shapes 21–24 include both a color and a fill</li>
</ul>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-32_4a9c4dc52489cc59fc54a71b82330bea">
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-32-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="how-would-we-change-the-color-of-this-plot" class="level2">
<h2 class="anchored" data-anchor-id="how-would-we-change-the-color-of-this-plot">How would we change the color of this plot?</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-33_97394a3a133228b733fc7e2262ff6180">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="how-would-we-change-the-color-of-this-plot-1" class="level2">
<h2 class="anchored" data-anchor-id="how-would-we-change-the-color-of-this-plot-1">How would we change the color of this plot?</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-34_9eb8c339bb2f57a222868beb64f7d1eb">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">"magenta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-34-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="how-would-we-change-the-color-fill-of-this-plot" class="level2">
<h2 class="anchored" data-anchor-id="how-would-we-change-the-color-fill-of-this-plot">How would we change the <del>color</del> fill of this plot?</h2>
<p>. . .</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-35_90cdd4b53ea2557301ee8edcd89fc7a1">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">fill =</span> <span class="st">"magenta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-35-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="color-by-variable" class="level2">
<h2 class="anchored" data-anchor-id="color-by-variable">Color by variable</h2>
<p>What if we wanted different colors by a variable – <em>major_category</em></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-36_ca3c16ae9d8043d289ff4caf10513da4">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">fill =</span> major_category), <span class="at">alpha =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-36-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="density-plot" class="level2">
<h2 class="anchored" data-anchor-id="density-plot">Density plot</h2>
<p>Alternative representation of distribution</p>
<ul>
<li>Think of it as a smoothed histogram (uses kernel smoothing)</li>
<li>The depiction of the distribution is <strong>NOT</strong> determined by the number of the bins you use, as are histograms</li>
</ul>
</section>
<section id="density-plot-1" class="level2">
<h2 class="anchored" data-anchor-id="density-plot-1">Density plot</h2>
<p><code>geom_density()</code></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-37_3b3e196ed3bd13c5419457d2836fd313">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-37-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="density-plot-2" class="level2">
<h2 class="anchored" data-anchor-id="density-plot-2">Density plot</h2>
<p>Now let’s fill by <em>major_category</em></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-38_27204ce5107a5aa7aab7e34b4ea55a03">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> major_category), <span class="at">alpha =</span> <span class="fl">0.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-38-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<div class="fragment">
<p>Not a good plot, just an example</p>
</div>
</section>
<section id="possible-alternative-facet_wrap" class="level2">
<h2 class="anchored" data-anchor-id="possible-alternative-facet_wrap">Possible alternative? <code>facet_wrap</code></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-39_22f5faaf28a5cfeaf5dc9feb37f853ef">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>major_category) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-39-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="even-better" class="level2">
<h2 class="anchored" data-anchor-id="even-better">Even better</h2>
<p>density ridges <code>{ggridges}</code></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-40_b2acfbeb70f84c7014ad5c21edb8a28b">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(grad, <span class="fu">aes</span>(<span class="at">x =</span> grad_total, <span class="at">y =</span> major_category)) <span class="sc">+</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-40-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="density-ridges" class="level2">
<h2 class="anchored" data-anchor-id="density-ridges">Density Ridges</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-41_22285e860301791bae93966386a2ebd8">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm , species)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-41-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="fill" class="level2">
<h2 class="anchored" data-anchor-id="fill"><code>fill</code></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-42_068fd10a35cc37925324f195fc0787a2">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm , species)) <span class="sc">+</span></span>
<span id="cb61-2"><a href="#cb61-2"></a>  <span class="fu">geom_density_ridges</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(year)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-42-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="add-transparency-for-clarity" class="level2">
<h2 class="anchored" data-anchor-id="add-transparency-for-clarity">Add transparency for clarity</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-43_1b725f995adb848afd7145bcb625bd66">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm , species)) <span class="sc">+</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>  <span class="fu">geom_density_ridges</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(year)), <span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-43-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="viridis-1" class="level2">
<h2 class="anchored" data-anchor-id="viridis-1">Viridis</h2>
<ul>
<li>easier to read by those with colorblindness</li>
<li>prints well in gray scale</li>
</ul>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-44_ff620541f35440622973efa37afeac7e">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm , species)) <span class="sc">+</span></span>
<span id="cb63-2"><a href="#cb63-2"></a>  <span class="fu">geom_density_ridges</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(year)), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3"></a>  <span class="fu">scale_fill_viridis_d</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-44-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="same-fill-function-different-option" class="level2">
<h2 class="anchored" data-anchor-id="same-fill-function-different-option">Same fill function, different “<code>option</code>”</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-45_77023565427503d3081cd929990fac63">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(bill_length_mm , species)) <span class="sc">+</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>  <span class="fu">geom_density_ridges</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(year)), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb64-3"><a href="#cb64-3"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-45-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="candy-rankings-fivethirtyeight" class="level2">
<h2 class="anchored" data-anchor-id="candy-rankings-fivethirtyeight">Candy rankings <code>{fivethirtyeight}</code></h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-46_dd9ef9ca9073b273bccb8d2a7eb647d7">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>candy <span class="ot">&lt;-</span> candy_rankings <span class="sc">%&gt;%</span> </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> chocolate<span class="sc">:</span>pluribus,</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"type"</span>,</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"foo"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(foo) <span class="sc">%&gt;%</span> </span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>foo)</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>candy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 197 × 5
   competitorname sugarpercent pricepercent winpercent type            
   &lt;chr&gt;                 &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;           
 1 100 Grand             0.732        0.860       67.0 chocolate       
 2 100 Grand             0.732        0.860       67.0 caramel         
 3 100 Grand             0.732        0.860       67.0 crispedricewafer
 4 100 Grand             0.732        0.860       67.0 bar             
 5 3 Musketeers          0.604        0.511       67.6 chocolate       
 6 3 Musketeers          0.604        0.511       67.6 nougat          
 7 3 Musketeers          0.604        0.511       67.6 bar             
 8 Air Heads             0.906        0.511       52.3 fruity          
 9 Almond Joy            0.465        0.767       50.3 chocolate       
10 Almond Joy            0.465        0.767       50.3 peanutyalmondy  
# ℹ 187 more rows</code></pre>
</div>
</div>
</section>
<section id="boxplot" class="level2">
<h2 class="anchored" data-anchor-id="boxplot">Boxplot</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-47_1c6710839ecf97a48d3ee84a86af963b">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(candy, <span class="fu">aes</span>(type, sugarpercent)) <span class="sc">+</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-47-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="violin-plots" class="level2">
<h2 class="anchored" data-anchor-id="violin-plots">Violin plots</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-48_4f63a416031ab1dd31ba6a97d0e3a0de">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(candy, <span class="fu">aes</span>(type, sugarpercent)) <span class="sc">+</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-48-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="bar-charts" class="level2">
<h2 class="anchored" data-anchor-id="bar-charts">Bar Charts</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-49_f47fe77f7fce9e3a64d3fc0ad452128c">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 11
  manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class 
  &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 
1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa…
2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa…
3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa…
4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa…
5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa…
6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa…</code></pre>
</div>
</div>
</section>
<section id="barcol-charts" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="barcol-charts">Bar/Col Charts</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong><code>geom_bar()</code></strong></p>
<ul>
<li>expects <em>x</em> <strong>OR</strong> <em>y</em></li>
<li>counts rows</li>
<li>if you want to count the number of cases at each <em>x</em> or <em>y</em> position</li>
<li>makes the height of the bar proportional to the number of cases in each group</li>
<li>uses <code>stat_count()</code> by default</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong><code>geom_col()</code></strong></p>
<ul>
<li>expects <em>x</em> <strong>AND</strong> <em>y</em></li>
<li>expects numbers in your data</li>
<li>if you want the heights of the bars to represent values in the data</li>
<li>leaves the data as is</li>
<li>uses <code>stat_identity()</code> by default</li>
</ul>
</div>
</div>
</section>
<section id="geom_bar" class="level2">
<h2 class="anchored" data-anchor-id="geom_bar"><code>geom_bar()</code></h2>
<p><em>mpg</em> data</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-50_737a4220386a0916645d4e29a6e47d0a">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(class)) <span class="sc">+</span> <span class="co"># one variable in the `aes()`</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="co"># counts the rows per class</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-50-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="summarized_mpg-data" class="level2">
<h2 class="anchored" data-anchor-id="summarized_mpg-data"><em>summarized_mpg</em> data</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-51_de12435c4d9636ee09dbd5d7a9e17f41">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>summarized_mpg <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(class) <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(summarized_mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
# Groups:   class [6]
  class          n
  &lt;chr&gt;      &lt;int&gt;
1 2seater        5
2 compact       47
3 midsize       41
4 minivan       11
5 pickup        33
6 subcompact    35</code></pre>
</div>
</div>
</section>
<section id="geom_col" class="level2">
<h2 class="anchored" data-anchor-id="geom_col"><code>geom_col()</code></h2>
<p><em>summarized_mpg</em> data</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-52_8f1bbe51c23ddeef11c173f8eac15401">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(summarized_mpg, <span class="fu">aes</span>(class, n)) <span class="sc">+</span> <span class="co"># two variables in the `aes()`</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="co"># data has the rows per class in "n"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-52-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6"></h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><code>geom_bar()</code> default</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-53_ee1b5b35e9be1d67af3d67bb8560ff1b">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(class)) <span class="sc">+</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-53-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</div><div class="column fragment" style="width:60%;">
<p><code>geom_bar(stat = "identity")</code></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-54_34ac4a61bd95c1010c81072a618e4214">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(summarized_mpg, <span class="fu">aes</span>(class, n)) <span class="sc">+</span> </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-54-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</div>
</div>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7"></h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><code>geom_bar()</code> default</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-55_0f924623b4c15f498c6c96d2005870f4">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(class)) <span class="sc">+</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-55-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</div><div class="column fragment" style="width:60%;">
<p><code>geom_col()</code> default</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-56_d0853b203054cd25aa9718a2f88419ef">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(summarized_mpg, <span class="fu">aes</span>(class, n)) <span class="sc">+</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-56-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</div>
</div>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8"></h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><code>geom_bar()</code> default</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-57_eee56c252fb2dca43e1eacd81430abe8">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(class)) <span class="sc">+</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-57-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</div><div class="column fragment" style="width:60%;">
<p><code>geom_bar()</code> uh-oh</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-58_b36e783968541227503c423e1ac3dce3">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(summarized_mpg, <span class="fu">aes</span>(class)) <span class="sc">+</span> </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-58-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</div>
</div>
</section>
<section id="what-happened" class="level2">
<h2 class="anchored" data-anchor-id="what-happened">What happened?</h2>
<p>Let’s look at our data again</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-59_e3d3f0a93ca0cdc5939036ad36ca64dc">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>summarized_mpg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
# Groups:   class [7]
  class          n
  &lt;chr&gt;      &lt;int&gt;
1 2seater        5
2 compact       47
3 midsize       41
4 minivan       11
5 pickup        33
6 subcompact    35
7 suv           62</code></pre>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-60_72bc010326767fa76ca85c1553c617f1">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(summarized_mpg, <span class="fu">aes</span>(class)) <span class="sc">+</span> </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-60-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</div>
</div>
</section>
<section id="change-the-order-of-the-x-axis" class="level2">
<h2 class="anchored" data-anchor-id="change-the-order-of-the-x-axis">Change the order of the <em>x</em>-axis</h2>
<ul>
<li>We’ll talk about betters methods for this when we talk about <code>factors</code> in Week 9</li>
<li>Basically - define <em>x</em>-axis variable as a <code>factor</code> with levels in the order you want</li>
</ul>
<p>. . .</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-61_1b6313b6da176e6df454a8b9ef118014">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>(mean_hmiles <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span> </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(class) <span class="sc">%&gt;%</span> </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_hwy =</span> <span class="fu">mean</span>(hwy)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  class      mean_hwy
  &lt;chr&gt;         &lt;dbl&gt;
1 2seater        24.8
2 compact        28.3
3 midsize        27.3
4 minivan        22.4
5 pickup         16.9
6 subcompact     28.1
7 suv            18.1</code></pre>
</div>
</div>
</section>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9"></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-62_6a78e0b55f5d7110f1302c8b2fa5a06b">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>mean_hmiles <span class="sc">%&gt;%</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(class, mean_hwy)) <span class="sc">+</span> </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-62-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10"></h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-63_5b2b2884a086a13aa9291c012e379ca0">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>mean_hmiles <span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">factor</span>(class,</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"pickup"</span>,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"suv"</span>,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"minivan"</span>,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"2seater"</span>,</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"midsize"</span>,</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"subcompact"</span>,</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"compact"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(class, mean_hwy)) <span class="sc">+</span> </span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-63-1.png" class="img-fluid" width="864"></p>
</div>
</div>
</section>
<section id="more-bar-plot-options" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="more-bar-plot-options">More bar plot options</h2>
<div class="cell" data-output-location="fragment" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-64_130672ba046541c5dc100751a9a9e84a">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>eclsk <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"ecls-k_samp.sav"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  rio<span class="sc">::</span><span class="fu">characterize</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>ecls_smry <span class="ot">&lt;-</span> eclsk <span class="sc">%&gt;%</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(k_type, ethnic) <span class="sc">%&gt;%</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">t1r_mean =</span> <span class="fu">mean</span>(t1rscale))</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>ecls_smry</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 3
# Groups:   k_type [2]
   k_type   ethnic                                  t1r_mean
   &lt;chr&gt;    &lt;chr&gt;                                      &lt;dbl&gt;
 1 full-day AMERICAN INDIAN OR ALASKA NATIVE            17.5
 2 full-day ASIAN                                       31.8
 3 full-day BLACK OR AFRICAN AMERICAN, NON-HISPANIC     21.1
 4 full-day HISPANIC, RACE NOT SPECIFIED                20.3
 5 full-day HISPANIC, RACE SPECIFIED                    22.3
 6 full-day MORE THAN ONE RACE, NON HISPANIC            20.8
 7 full-day NATIVE HAWAIIAN, OTHER PACIFIC ISLANDER     23.2
 8 full-day WHITE, NON-HISPANIC                         25.5
 9 half-day AMERICAN INDIAN OR ALASKA NATIVE            30.0
10 half-day ASIAN                                       25.1
11 half-day BLACK OR AFRICAN AMERICAN, NON-HISPANIC     18.6
12 half-day HISPANIC, RACE NOT SPECIFIED                18.7
13 half-day HISPANIC, RACE SPECIFIED                    20.0
14 half-day MORE THAN ONE RACE, NON HISPANIC            20.3
15 half-day NATIVE HAWAIIAN, OTHER PACIFIC ISLANDER     19.7
16 half-day WHITE, NON-HISPANIC                         23.7</code></pre>
</div>
</div>
</section>
<section id="stacked-bar-plot" class="level2">
<h2 class="anchored" data-anchor-id="stacked-bar-plot">Stacked bar plot</h2>
<p>Look for effects in “ethnicity” by “k_type” (full/half day K)</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-65_336b989e232d4383de1bdca96b5b552f">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ecls_smry, <span class="fu">aes</span>(ethnic, t1r_mean)) <span class="sc">+</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> k_type))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-65-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="grouped-bar-plot" class="level2">
<h2 class="anchored" data-anchor-id="grouped-bar-plot">Grouped bar plot</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-66_b53554fd4c1fbb0c949bb548a2405117">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">ggplot</span>(ecls_smry, <span class="fu">aes</span>(ethnic, t1r_mean)) <span class="sc">+</span></span>
<span id="cb91-2"><a href="#cb91-2"></a>    <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> k_type),</span>
<span id="cb91-3"><a href="#cb91-3"></a>             <span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-66-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="rotating-labels" class="level2">
<h2 class="anchored" data-anchor-id="rotating-labels">Rotating Labels</h2>
<p>I have to look <a href="https://stackoverflow.com/questions/1330989/rotating-and-spacing-axis-labels-in-ggplot2">this</a> up <em>every</em> time</p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-67_92ea7f814c93a03a5592985f78af4c65">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="fu">ggplot</span>(ecls_smry, <span class="fu">aes</span>(ethnic, t1r_mean)) <span class="sc">+</span></span>
<span id="cb92-2"><a href="#cb92-2"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> k_type),</span>
<span id="cb92-3"><a href="#cb92-3"></a>           <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb92-4"><a href="#cb92-4"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-67-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="flip-the-coordinates" class="level2">
<h2 class="anchored" data-anchor-id="flip-the-coordinates">Flip the coordinates</h2>
<p><code>coord_flip()</code></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-68_dd772eb30c26677b05b49bff0413807d">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="fu">ggplot</span>(ecls_smry, <span class="fu">aes</span>(ethnic, t1r_mean)) <span class="sc">+</span></span>
<span id="cb93-2"><a href="#cb93-2"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> k_type),</span>
<span id="cb93-3"><a href="#cb93-3"></a>           <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb93-4"><a href="#cb93-4"></a>  <span class="fu">coord_flip</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-68-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="alternatively" class="level2">
<h2 class="anchored" data-anchor-id="alternatively">Alternatively</h2>
<p><code>facet_wrap()</code></p>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-69_c8e8622eb6ee6ea4ae994dc34ebceebd">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ecls_smry, <span class="fu">aes</span>(k_type, t1r_mean)) <span class="sc">+</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>ethnic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-69-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="sometimes-some-redundancy-works-well" class="level2">
<h2 class="anchored" data-anchor-id="sometimes-some-redundancy-works-well">Sometimes some redundancy works well</h2>
<div class="cell" data-hash="w3_ggplot2_cache/revealjs/unnamed-chunk-70_0069fc274c707620c1a48b448a42c8f0">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ecls_smry, <span class="fu">aes</span>(k_type, t1r_mean, <span class="at">fill =</span> k_type)) <span class="sc">+</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>ethnic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w3_ggplot2_files/figure-revealjs/unnamed-chunk-70-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="geom_-review" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="geom_-review"><code>geom_*()</code> Review</h2>
<ul>
<li><code>geom_point()</code></li>
<li><code>geom_smooth()</code></li>
<li><code>geom_line()</code></li>
<li><code>geom_tile()</code></li>
<li><code>geom_histogram()</code></li>
<li><code>geom_density()</code></li>
<li><code>ggridges::geom_density_ridges()</code></li>
<li><code>geom_boxplot()</code></li>
<li><code>geom_violin()</code></li>
<li><code>geom_bar()</code></li>
<li><code>geom_col()</code></li>
</ul>
</section>
<section id="challenge" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="challenge">Challenge</h2>
<ul>
<li>Start a new <code>R</code> project</li>
<li>Create a new script, save it as “practice-plots.R”</li>
<li>Load the <code>{tidyverse}</code></li>
<li>Print the <strong>msleep</strong> dataset to see it’s structure (it’s from <code>{ggplot2}</code>)</li>
</ul>
<p>For each of the following, produce a separate plot</p>
<ol type="1">
<li>Plot the relation between “sleep_total” and “brainwt” (with “brainwt” as the DV) - scatter plot</li>
<li>Overlay a smooth on the previous plot</li>
<li>Color the points by “vore”, but fit a single smooth</li>
<li>Fit separate smooths by “vore”, but with all points being gray</li>
<li>Omit the standard error of the smooths</li>
<li>Use <code>ylim()</code> as an additional layer to restrict the <em>y</em>-axis to range from 0 to 5</li>
</ol>
</section>
</section>
<section id="next-time" class="level1">
<h1>Next time</h1>
<section id="before-next-class" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="before-next-class">Before next class</h2>
<ul>
<li>Reading
<ul>
<li><a href="https://r4ds.hadley.nz/data-transform">R4DS(2e) 4</a></li>
</ul></li>
<li>Supplemental Learning
<ul>
<li><a href="https://posit.cloud/learn/primers/2.1">RStudio Primer: Working with Tibbles</a></li>
<li><a href="https://r-bootcamp.netlify.app/chapter3">Rbootcamp: Ch 3</a></li>
<li><a href="https://www.codecademy.com/courses/learn-r/lessons/r-aggregates/exercises/column-statistics">Codecademy: Aggregates in R</a></li>
</ul></li>
<li>Homework
<ul>
<li><strong>Homework 2</strong></li>
<li><strong>Homework 3</strong></li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>