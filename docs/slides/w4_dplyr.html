<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joe Nese">

<title>EDLD 651: Fall 2023 - Week 4: Data Wrangling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
<script src="../site_libs/countdown-0.4.0/countdown.js"></script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">EDLD 651: Fall 2023</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html" rel="" target="">
 <span class="menu-text">Syllabus</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../assignments.html" rel="" target="">
 <span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html" rel="" target="">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data_list.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../installs.html" rel="" target="">
 <span class="menu-text">Installs</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#housekeeping" id="toc-housekeeping" class="nav-link active" data-scroll-target="#housekeeping">Housekeeping</a></li>
  <li><a href="#data-wrangling-with-dplyr" id="toc-data-wrangling-with-dplyr" class="nav-link" data-scroll-target="#data-wrangling-with-dplyr">Data Wrangling with {dplyr}</a>
  <ul class="collapse">
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#agenda" id="toc-agenda" class="nav-link" data-scroll-target="#agenda">Agenda</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"></a></li>
  <li><a href="#providing-grammar-for" id="toc-providing-grammar-for" class="nav-link" data-scroll-target="#providing-grammar-for">Providing grammar for:</a></li>
  <li><a href="#providing-grammar-for-1" id="toc-providing-grammar-for-1" class="nav-link" data-scroll-target="#providing-grammar-for-1">Providing grammar for:</a></li>
  </ul></li>
  <li><a href="#dplyr" id="toc-dplyr" class="nav-link" data-scroll-target="#dplyr">{dplyr}</a>
  <ul class="collapse">
  <li><a href="#dplyr-1" id="toc-dplyr-1" class="nav-link" data-scroll-target="#dplyr-1"><code>{dplyr}</code> <img src="https://d33wubrfki0l68.cloudfront.net/621a9c8c5d7b47c4b6d72e8f01f28d14310e8370/193fc/css/images/hex/dplyr.png" class="img-fluid" style="width:10.0%" data-fig-align="right"></a></li>
  <li><a href="#dplyr-2" id="toc-dplyr-2" class="nav-link" data-scroll-target="#dplyr-2"><code>{dplyr}</code></a></li>
  <li><a href="#arguments" id="toc-arguments" class="nav-link" data-scroll-target="#arguments">Arguments</a></li>
  </ul></li>
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select">select()</a>
  <ul class="collapse">
  <li><a href="#select-1" id="toc-select-1" class="nav-link" data-scroll-target="#select-1"><code>select()</code></a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a></li>
  <li><a href="#select-president-name-and-party" id="toc-select-president-name-and-party" class="nav-link" data-scroll-target="#select-president-name-and-party"><code>select</code> president <em>name</em> and <em>party</em></a></li>
  <li><a href="#negation--" id="toc-negation--" class="nav-link" data-scroll-target="#negation--">Negation <code>-</code></a></li>
  <li><a href="#negation---1" id="toc-negation---1" class="nav-link" data-scroll-target="#negation---1">Negation <code>-</code></a></li>
  <li><a href="#indexing" id="toc-indexing" class="nav-link" data-scroll-target="#indexing">Indexing</a></li>
  <li><a href="#use-multiple-methods" id="toc-use-multiple-methods" class="nav-link" data-scroll-target="#use-multiple-methods">Use multiple methods</a></li>
  <li><a href="#use-select-to-order-columns" id="toc-use-select-to-order-columns" class="nav-link" data-scroll-target="#use-select-to-order-columns">Use <code>select</code> to order columns</a></li>
  <li><a href="#select-helper-functions" id="toc-select-helper-functions" class="nav-link" data-scroll-target="#select-helper-functions"><code>select()</code> helper functions</a></li>
  <li><a href="#helper-functions" id="toc-helper-functions" class="nav-link" data-scroll-target="#helper-functions">Helper functions</a></li>
  <li><a href="#use-select-to-order-columns-1" id="toc-use-select-to-order-columns-1" class="nav-link" data-scroll-target="#use-select-to-order-columns-1">Use <code>select</code> to order columns</a></li>
  <li><a href="#starts_with" id="toc-starts_with" class="nav-link" data-scroll-target="#starts_with"><code>starts_with()</code></a></li>
  <li><a href="#ends_with" id="toc-ends_with" class="nav-link" data-scroll-target="#ends_with"><code>ends_with()</code></a></li>
  <li><a href="#contains" id="toc-contains" class="nav-link" data-scroll-target="#contains"><code>contains()</code></a></li>
  <li><a href="#all_of" id="toc-all_of" class="nav-link" data-scroll-target="#all_of"><code>all_of()</code></a></li>
  <li><a href="#all_of-1" id="toc-all_of-1" class="nav-link" data-scroll-target="#all_of-1"><code>all_of()</code></a></li>
  <li><a href="#any_of" id="toc-any_of" class="nav-link" data-scroll-target="#any_of"><code>any_of()</code></a></li>
  <li><a href="#any_of-1" id="toc-any_of-1" class="nav-link" data-scroll-target="#any_of-1"><code>any_of()</code></a></li>
  <li><a href="#mix-select-methods-and-helpers" id="toc-mix-select-methods-and-helpers" class="nav-link" data-scroll-target="#mix-select-methods-and-helpers">Mix <code>select</code> methods and helpers</a></li>
  <li><a href="#mix-select-methods-and-helpers-1" id="toc-mix-select-methods-and-helpers-1" class="nav-link" data-scroll-target="#mix-select-methods-and-helpers-1">Mix <code>select</code> methods and helpers</a></li>
  <li><a href="#relocate" id="toc-relocate" class="nav-link" data-scroll-target="#relocate"><code>relocate()</code></a></li>
  <li><a href="#relocate-1" id="toc-relocate-1" class="nav-link" data-scroll-target="#relocate-1"><code>relocate()</code></a></li>
  <li><a href="#relocate-2" id="toc-relocate-2" class="nav-link" data-scroll-target="#relocate-2"><code>relocate()</code></a></li>
  <li><a href="#relocate-3" id="toc-relocate-3" class="nav-link" data-scroll-target="#relocate-3"><code>relocate()</code></a></li>
  </ul></li>
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter">filter()</a>
  <ul class="collapse">
  <li><a href="#filter-1" id="toc-filter-1" class="nav-link" data-scroll-target="#filter-1"><code>filter()</code></a></li>
  <li><a href="#filter-2" id="toc-filter-2" class="nav-link" data-scroll-target="#filter-2"><code>filter()</code></a></li>
  <li><a href="#filter-numeric" id="toc-filter-numeric" class="nav-link" data-scroll-target="#filter-numeric"><code>filter()</code> numeric</a></li>
  <li><a href="#filter-for-democrats" id="toc-filter-for-democrats" class="nav-link" data-scroll-target="#filter-for-democrats"><code>filter</code> for Democrats</a></li>
  <li><a href="#filter-character" id="toc-filter-character" class="nav-link" data-scroll-target="#filter-character"><code>filter</code> character</a></li>
  <li><a href="#democrats-starting-after-2000" id="toc-democrats-starting-after-2000" class="nav-link" data-scroll-target="#democrats-starting-after-2000">Democrats starting after 2000</a></li>
  <li><a href="#filter-note" id="toc-filter-note" class="nav-link" data-scroll-target="#filter-note"><code>filter()</code> note</a></li>
  <li><a href="#more-filter" id="toc-more-filter" class="nav-link" data-scroll-target="#more-filter">more <code>filter()</code></a></li>
  <li><a href="#more-filter-1" id="toc-more-filter-1" class="nav-link" data-scroll-target="#more-filter-1">more <code>filter()</code></a></li>
  <li><a href="#lets-remove-these-aggregate-rows" id="toc-lets-remove-these-aggregate-rows" class="nav-link" data-scroll-target="#lets-remove-these-aggregate-rows">Let’s remove these aggregate rows</a></li>
  <li><a href="#not-equal" id="toc-not-equal" class="nav-link" data-scroll-target="#not-equal">Not equal</a></li>
  <li><a href="#chaining-dplyr-functions" id="toc-chaining-dplyr-functions" class="nav-link" data-scroll-target="#chaining-dplyr-functions">Chaining <code>{dplyr}</code> functions</a></li>
  <li><a href="#chaining-dplyr-functions-1" id="toc-chaining-dplyr-functions-1" class="nav-link" data-scroll-target="#chaining-dplyr-functions-1">Chaining <code>{dplyr}</code> functions</a></li>
  <li><a href="#chaining-dplyr-functions-2" id="toc-chaining-dplyr-functions-2" class="nav-link" data-scroll-target="#chaining-dplyr-functions-2">Chaining <code>{dplyr}</code> functions</a></li>
  <li><a href="#piping-functions" id="toc-piping-functions" class="nav-link" data-scroll-target="#piping-functions">Piping functions</a></li>
  </ul></li>
  <li><a href="#mutate" id="toc-mutate" class="nav-link" data-scroll-target="#mutate">mutate()</a>
  <ul class="collapse">
  <li><a href="#some-new-data" id="toc-some-new-data" class="nav-link" data-scroll-target="#some-new-data">Some new data</a></li>
  <li><a href="#mutate-1" id="toc-mutate-1" class="nav-link" data-scroll-target="#mutate-1"><code>mutate()</code></a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"></a></li>
  <li><a href="#mutate-2" id="toc-mutate-2" class="nav-link" data-scroll-target="#mutate-2"><code>mutate()</code></a></li>
  <li><a href="#mutate-3" id="toc-mutate-3" class="nav-link" data-scroll-target="#mutate-3"><code>mutate()</code></a></li>
  </ul></li>
  <li><a href="#arrange" id="toc-arrange" class="nav-link" data-scroll-target="#arrange">arrange()</a>
  <ul class="collapse">
  <li><a href="#arrange-1" id="toc-arrange-1" class="nav-link" data-scroll-target="#arrange-1"><code>arrange()</code></a></li>
  <li><a href="#arrange-2" id="toc-arrange-2" class="nav-link" data-scroll-target="#arrange-2"><code>arrange()</code></a></li>
  <li><a href="#arrange-3" id="toc-arrange-3" class="nav-link" data-scroll-target="#arrange-3"><code>arrange()</code></a></li>
  </ul></li>
  <li><a href="#summarize" id="toc-summarize" class="nav-link" data-scroll-target="#summarize">summarize()</a>
  <ul class="collapse">
  <li><a href="#summarize-1" id="toc-summarize-1" class="nav-link" data-scroll-target="#summarize-1"><code>summarize()</code></a></li>
  </ul></li>
  <li><a href="#group_by" id="toc-group_by" class="nav-link" data-scroll-target="#group_by">group_by()</a>
  <ul class="collapse">
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4"></a></li>
  <li><a href="#group_by-1" id="toc-group_by-1" class="nav-link" data-scroll-target="#group_by-1"><code>group_by()</code></a></li>
  <li><a href="#group_by-2" id="toc-group_by-2" class="nav-link" data-scroll-target="#group_by-2"><code>group_by()</code></a></li>
  <li><a href="#add-summarized-column-to-full-data" id="toc-add-summarized-column-to-full-data" class="nav-link" data-scroll-target="#add-summarized-column-to-full-data">Add summarized column to full data</a></li>
  <li><a href="#retain-only-summarized-columns" id="toc-retain-only-summarized-columns" class="nav-link" data-scroll-target="#retain-only-summarized-columns">Retain only summarized columns</a></li>
  <li><a href="#pipe-to-ggplot" id="toc-pipe-to-ggplot" class="nav-link" data-scroll-target="#pipe-to-ggplot">Pipe to <code>{ggplot}</code>!</a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5"></a></li>
  <li><a href="#summarizing-and-plotting" id="toc-summarizing-and-plotting" class="nav-link" data-scroll-target="#summarizing-and-plotting">Summarizing and Plotting</a></li>
  <li><a href="#plot-it" id="toc-plot-it" class="nav-link" data-scroll-target="#plot-it">Plot it</a></li>
  </ul></li>
  <li><a href="#a-couple-more" id="toc-a-couple-more" class="nav-link" data-scroll-target="#a-couple-more">A couple more</a>
  <ul class="collapse">
  <li><a href="#recode-with-ifelse" id="toc-recode-with-ifelse" class="nav-link" data-scroll-target="#recode-with-ifelse">Recode with <code>ifelse()</code></a></li>
  <li><a href="#recode-with-ifelse-1" id="toc-recode-with-ifelse-1" class="nav-link" data-scroll-target="#recode-with-ifelse-1">Recode with <code>ifelse()</code></a></li>
  <li><a href="#recode-with-recode" id="toc-recode-with-recode" class="nav-link" data-scroll-target="#recode-with-recode">Recode with <code>recode()</code></a></li>
  <li><a href="#recode-with-recode-1" id="toc-recode-with-recode-1" class="nav-link" data-scroll-target="#recode-with-recode-1">Recode with <code>recode()</code></a></li>
  <li><a href="#recode-with-recode-2" id="toc-recode-with-recode-2" class="nav-link" data-scroll-target="#recode-with-recode-2">Recode with <code>recode()</code></a></li>
  <li><a href="#recode-with-case_when" id="toc-recode-with-case_when" class="nav-link" data-scroll-target="#recode-with-case_when">Recode with <code>case_when()</code></a></li>
  <li><a href="#rename" id="toc-rename" class="nav-link" data-scroll-target="#rename"><code>rename()</code></a></li>
  <li><a href="#rename-with-select" id="toc-rename-with-select" class="nav-link" data-scroll-target="#rename-with-select">rename with <code>select()</code></a></li>
  <li><a href="#final-notes-on-dplyr" id="toc-final-notes-on-dplyr" class="nav-link" data-scroll-target="#final-notes-on-dplyr">Final notes on <code>{dplyr}</code></a></li>
  </ul></li>
  <li><a href="#next-time" id="toc-next-time" class="nav-link" data-scroll-target="#next-time">Next time</a>
  <ul class="collapse">
  <li><a href="#before-next-class" id="toc-before-next-class" class="nav-link" data-scroll-target="#before-next-class">Before next class</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="w4_dplyr.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 4: Data Wrangling</h1>
<p class="subtitle lead"><code>{dplyr}</code></p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Joe Nese </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Oregon<br>Fall 2023
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  

</header>

<section id="housekeeping" class="level2">
<h2 class="anchored" data-anchor-id="housekeeping">Housekeeping</h2>
<ul>
<li>Assignment completion</li>
<li>Midway Student Experience Survey
<ul>
<li>now open</li>
<li>Canvas: UO Course Surveys (left sidebar)</li>
</ul></li>
<li>.red[ Final Project Outline]
<ul>
<li>Due 10/26</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p>The outline should include a description of the data to be used, a discussion of what preparatory work will need to be done, and how the requirements of the final project will be met. The outline is intended to be low-stakes and is primarily designed to be a means for you to obtain feedback on the feasibility of the project and areas to consider.</p>
</blockquote>
</section>
<section id="data-wrangling-with-dplyr" class="level1">
<h1>Data Wrangling with {dplyr}</h1>
<p>Week 4</p>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<p><img src="https://www.ltd.org/files/library/bus-with-rainbow_lb.jpg" class="img-fluid"></p>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
<p><img src="https://images.unsplash.com/photo-1572013343866-dfdb9b416810?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8dGF4aXxlbnwwfHwwfHx8MA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60" class="img-fluid"></p>
</section>
<section id="agenda" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="agenda">Agenda</h2>
<ul>
<li>Introduce common <code>{dplyr}</code> functions
<ul>
<li>piping <code>{dplyr}</code> functions</li>
<li>helper functions</li>
</ul></li>
<li>Introduce complimentary functions
<ul>
<li><code>ifelse()</code></li>
<li><code>case_when()</code></li>
</ul></li>
</ul>
<p><img src="https://www.tidyverse.org/blog/2023/08/teach-tidyverse-23/#quality-of-life-improvements-to-case_when-and-if_else.png" class="img-fluid"></p>
<p><strong>Learning Objectives</strong></p>
<ul>
<li>Understand basic data wrangling and transformations
<ul>
<li><code>select()</code></li>
<li><code>filter()</code></li>
<li><code>arrange()</code></li>
<li><code>group_by()</code></li>
<li><code>summarize()</code></li>
<li><code>recode()</code> &amp; <code>rename()</code></li>
</ul></li>
<li>Be able to pipe these functions to efficiently wrangle data</li>
</ul>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"></h2>
<p><img src="https://www.tidyverse.org/images/tidyverse-default.png" class="img-fluid"></p>
</section>
<section id="providing-grammar-for" class="level2">
<h2 class="anchored" data-anchor-id="providing-grammar-for">Providing grammar for:</h2>
<ul>
<li>Graphics
<ul>
<li><code>{ggplot2}</code></li>
</ul></li>
<li>Data manipulations
<ul>
<li><code>{dplyr}</code></li>
<li><code>{tidyr}</code></li>
</ul></li>
<li>Expanding area of specialized topics
<ul>
<li><code>{lubridate}</code></li>
<li><code>{glue}</code></li>
<li><code>{tidymodels}</code></li>
</ul></li>
<li>Many more…</li>
</ul>
</section>
<section id="providing-grammar-for-1" class="level2">
<h2 class="anchored" data-anchor-id="providing-grammar-for-1">Providing grammar for:</h2>
<ul>
<li>Graphics
<ul>
<li><code>{ggplot2}</code></li>
</ul></li>
<li>Data manipulations
<ul>
<li><mark><code>{dplyr}</code></mark></li>
<li><code>{tidyr}</code></li>
</ul></li>
<li>Expanding area of specialized topics
<ul>
<li><code>{lubridate}</code></li>
<li><code>{glue}</code></li>
<li><code>{tidymodels}</code></li>
</ul></li>
<li>Many more…</li>
</ul>
</section>
</section>
<section id="dplyr" class="level1">
<h1>{dplyr}</h1>
<section id="dplyr-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="dplyr-1"><code>{dplyr}</code> <img src="https://d33wubrfki0l68.cloudfront.net/621a9c8c5d7b47c4b6d72e8f01f28d14310e8370/193fc/css/images/hex/dplyr.png" class="img-fluid" style="width:10.0%" data-fig-align="right"></h2>
<p>A grammar for data wrangling (verbs!)</p>
<p>Take a couple minutes with your neighbor to guess what the following functions do: * <code>select()</code> * <code>filter()</code> * <code>mutate()</code> * <code>arrange()</code> * <code>summarize()</code> * <code>group_by()</code></p>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_e699adc9" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">02</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="dplyr-2" class="level2">
<h2 class="anchored" data-anchor-id="dplyr-2"><code>{dplyr}</code></h2>
<p>A grammar for data wrangling (verbs!)</p>
<p><code>select()</code> ::: {.fragment} : a subset of <strong>columns</strong> :::</p>
<dl>
<dt><code>filter()</code></dt>
<dd>
a subset of <strong>rows</strong>
</dd>
<dt><code>mutate()</code></dt>
<dd>
<strong>add</strong> a new column or <strong>modify</strong> an existing column
</dd>
<dt><code>arrange()</code></dt>
<dd>
<strong>sort</strong> rows in ascending/descending order
</dd>
<dt><code>summarize()</code></dt>
<dd>
a new column created according to other columns
</dd>
<dd>
for example: <code>mean()</code> or <code>sd()</code> + often used with…
</dd>
<dt><code>group_by()</code></dt>
<dd>
<strong>grouping</strong> column(s)
</dd>
</dl>
</section>
<section id="arguments" class="level2">
<h2 class="anchored" data-anchor-id="arguments">Arguments</h2>
<ul>
<li><p><strong><code>{dplyr}</code> always takes a data frame (tibble) as the first argument</strong></p>
<ul>
<li>just like <code>{ggplot}</code></li>
</ul></li>
<li><p>subsequent functions tell <code>{dplyr}</code> what to do with the data frame</p></li>
<li><p>each function applied returns the modified data frame</p></li>
</ul>
</section>
</section>
<section id="select" class="level1 page-columns page-full">
<h1>select()</h1>
<section id="select-1" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="select-1"><code>select()</code></h2>
<p>choose columns</p>
<div class="columns">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(df, a, c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>:::</p>
<p>-or-</p>
<p>::: <img src="https://swcarpentry.github.io/r-novice-gapminder/fig/13-dplyr-fig1.png" class="img-fluid"> :::</p>
<p>::::</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Image from <a href="https://swcarpentry.github.io/r-novice-gapminder/fig/13-dplyr-fig1.png">Software Carpentry</a></p>
</div></div></section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<p>Let’s start with the presidential dataset from the <code>{mdsr}</code> package</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("mdsr")</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mdsr)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>presidential</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
   name       start      end        party     
   &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;     
 1 Eisenhower 1953-01-20 1961-01-20 Republican
 2 Kennedy    1961-01-20 1963-11-22 Democratic
 3 Johnson    1963-11-22 1969-01-20 Democratic
 4 Nixon      1969-01-20 1974-08-09 Republican
 5 Ford       1974-08-09 1977-01-20 Republican
 6 Carter     1977-01-20 1981-01-20 Democratic
 7 Reagan     1981-01-20 1989-01-20 Republican
 8 Bush       1989-01-20 1993-01-20 Republican
 9 Clinton    1993-01-20 2001-01-20 Democratic
10 Bush       2001-01-20 2009-01-20 Republican
11 Obama      2009-01-20 2017-01-20 Democratic
12 Trump      2017-01-20 2021-01-20 Republican</code></pre>
</div>
</div>
</section>
<section id="select-president-name-and-party" class="level2">
<h2 class="anchored" data-anchor-id="select-president-name-and-party"><code>select</code> president <em>name</em> and <em>party</em></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(presidential, name, party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p><strong>OR</strong> more typically</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(name, party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 2
   name       party     
   &lt;chr&gt;      &lt;chr&gt;     
 1 Eisenhower Republican
 2 Kennedy    Democratic
 3 Johnson    Democratic
 4 Nixon      Republican
 5 Ford       Republican
 6 Carter     Democratic
 7 Reagan     Republican
 8 Bush       Republican
 9 Clinton    Democratic
10 Bush       Republican
11 Obama      Democratic
12 Trump      Republican</code></pre>
</div>
</div>
</section>
<section id="negation--" class="level2">
<h2 class="anchored" data-anchor-id="negation--">Negation <code>-</code></h2>
<p>Don’t select variable(s)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>start)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   name       end        party     
   &lt;chr&gt;      &lt;date&gt;     &lt;chr&gt;     
 1 Eisenhower 1961-01-20 Republican
 2 Kennedy    1963-11-22 Democratic
 3 Johnson    1969-01-20 Democratic
 4 Nixon      1974-08-09 Republican
 5 Ford       1977-01-20 Republican
 6 Carter     1981-01-20 Democratic
 7 Reagan     1989-01-20 Republican
 8 Bush       1993-01-20 Republican
 9 Clinton    2001-01-20 Democratic
10 Bush       2009-01-20 Republican
11 Obama      2017-01-20 Democratic
12 Trump      2021-01-20 Republican</code></pre>
</div>
</div>
</section>
<section id="negation---1" class="level2">
<h2 class="anchored" data-anchor-id="negation---1">Negation <code>-</code></h2>
<p>Don’t select variable(s)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>start, <span class="sc">-</span>end)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>OR</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(start, end))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 2
   name       party     
   &lt;chr&gt;      &lt;chr&gt;     
 1 Eisenhower Republican
 2 Kennedy    Democratic
 3 Johnson    Democratic
 4 Nixon      Republican
 5 Ford       Republican
 6 Carter     Democratic
 7 Reagan     Republican
 8 Bush       Republican
 9 Clinton    Democratic
10 Bush       Republican
11 Obama      Democratic
12 Trump      Republican</code></pre>
</div>
</div>
</section>
<section id="indexing" class="level2">
<h2 class="anchored" data-anchor-id="indexing">Indexing</h2>
<p>Less preferable because variable orders change</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(presidential, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>OR</strong> more typically</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   name       start      end       
   &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;    
 1 Eisenhower 1953-01-20 1961-01-20
 2 Kennedy    1961-01-20 1963-11-22
 3 Johnson    1963-11-22 1969-01-20
 4 Nixon      1969-01-20 1974-08-09
 5 Ford       1974-08-09 1977-01-20
 6 Carter     1977-01-20 1981-01-20
 7 Reagan     1981-01-20 1989-01-20
 8 Bush       1989-01-20 1993-01-20
 9 Clinton    1993-01-20 2001-01-20
10 Bush       2001-01-20 2009-01-20
11 Obama      2009-01-20 2017-01-20
12 Trump      2017-01-20 2021-01-20</code></pre>
</div>
</div>
</section>
<section id="use-multiple-methods" class="level2">
<h2 class="anchored" data-anchor-id="use-multiple-methods">Use multiple methods</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(name, <span class="dv">2</span>, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   name       start      party     
   &lt;chr&gt;      &lt;date&gt;     &lt;chr&gt;     
 1 Eisenhower 1953-01-20 Republican
 2 Kennedy    1961-01-20 Democratic
 3 Johnson    1963-11-22 Democratic
 4 Nixon      1969-01-20 Republican
 5 Ford       1974-08-09 Republican
 6 Carter     1977-01-20 Democratic
 7 Reagan     1981-01-20 Republican
 8 Bush       1989-01-20 Republican
 9 Clinton    1993-01-20 Democratic
10 Bush       2001-01-20 Republican
11 Obama      2009-01-20 Democratic
12 Trump      2017-01-20 Republican</code></pre>
</div>
</div>
</section>
<section id="use-select-to-order-columns" class="level2">
<h2 class="anchored" data-anchor-id="use-select-to-order-columns">Use <code>select</code> to order columns</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fivethirtyeight)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>college_grad_students</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 173 × 22
   major_code major     major_category grad_total grad_sample_size grad_employed
        &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;               &lt;int&gt;            &lt;int&gt;         &lt;int&gt;
 1       5601 Construc… Industrial Ar…       9173              200          7098
 2       6004 Commerci… Arts                53864              882         40492
 3       6211 Hospital… Business            24417              437         18368
 4       2201 Cosmetol… Industrial Ar…       5411               72          3590
 5       2001 Communic… Computers &amp; M…       9109              171          7512
 6       3201 Court Re… Law &amp; Public …       1542               22          1008
 7       6206 Marketin… Business           190996             3738        151570
 8       1101 Agricult… Agriculture &amp;…      17488              386         13104
 9       2101 Computer… Computers &amp; M…       5611               98          4716
10       1904 Advertis… Communication…      33928              688         28517
# ℹ 163 more rows
# ℹ 16 more variables: grad_employed_fulltime_yearround &lt;int&gt;,
#   grad_unemployed &lt;int&gt;, grad_unemployment_rate &lt;dbl&gt;, grad_p25th &lt;dbl&gt;,
#   grad_median &lt;dbl&gt;, grad_p75th &lt;int&gt;, nongrad_total &lt;int&gt;,
#   nongrad_employed &lt;int&gt;, nongrad_employed_fulltime_yearround &lt;int&gt;,
#   nongrad_unemployed &lt;int&gt;, nongrad_unemployment_rate &lt;dbl&gt;,
#   nongrad_p25th &lt;dbl&gt;, nongrad_median &lt;dbl&gt;, nongrad_p75th &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="select-helper-functions" class="level2">
<h2 class="anchored" data-anchor-id="select-helper-functions"><code>select()</code> <a href="https://tidyselect.r-lib.org/reference/select_helpers.html">helper</a> functions</h2>
<ul>
<li><code>everything()</code></li>
<li><code>starts_with()</code></li>
<li><code>ends_with()</code></li>
<li><code>contains()</code></li>
<li><code>all_of()</code></li>
<li><code>any_of()</code></li>
</ul>
</section>
<section id="helper-functions" class="level2">
<h2 class="anchored" data-anchor-id="helper-functions">Helper functions</h2>
<p>First: this code may not work for you - why?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>reads <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"Project_Reads_Scores.csv"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>reads</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 25
   test_year      test_type test_site student_id pre_test_score pre_test_percent
   &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;           
 1 06/01/2016 12… YEAR END  VIRDEN    Virden 1               43 29%             
 2 06/01/2016 12… YEAR END  VIRDEN    Virden 2               46 31%             
 3 06/01/2016 12… YEAR END  VIRDEN    Virden 3               39 26%             
 4 06/01/2016 12… YEAR END  VIRDEN    Virden 4               35 23%             
 5 06/01/2016 12… YEAR END  VIRDEN    Virden 5               46 31%             
 6 06/01/2016 12… YEAR END  VIRDEN    Virden 6               35 23%             
 7 06/01/2016 12… YEAR END  VIRDEN    Virden 7               40 27%             
 8 06/01/2016 12… YEAR END  VIRDEN    Virden 8               39 26%             
 9 06/01/2016 12… YEAR END  VIRDEN    Virden 9               40 27%             
10 06/01/2016 12… YEAR END  VIRDEN    Virden 10              45 30%             
# ℹ 38 more rows
# ℹ 19 more variables: post_test_score &lt;dbl&gt;, post_test_percent &lt;chr&gt;,
#   percentage_change &lt;chr&gt;, unit_1_score &lt;dbl&gt;, unit_1_percent &lt;chr&gt;,
#   unit_2_score &lt;dbl&gt;, unit_2_percent &lt;chr&gt;, unit_3_score &lt;dbl&gt;,
#   unit_3_percent &lt;chr&gt;, unit_4_score &lt;dbl&gt;, unit_4_percent &lt;chr&gt;,
#   unit_5_6_score &lt;dbl&gt;, unit_5_6_percent &lt;chr&gt;, unit_7_score &lt;dbl&gt;,
#   unit_7_percent &lt;chr&gt;, unit_8_score &lt;dbl&gt;, unit_8_percent &lt;chr&gt;, …</code></pre>
</div>
</div>
</section>
<section id="use-select-to-order-columns-1" class="level2">
<h2 class="anchored" data-anchor-id="use-select-to-order-columns-1">Use <code>select</code> to order columns</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>college_grad_students <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(major_code, grad_total, grad_sample_size, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 173 × 22
   major_code grad_total grad_sample_size major     major_category grad_employed
        &lt;int&gt;      &lt;int&gt;            &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;                  &lt;int&gt;
 1       5601       9173              200 Construc… Industrial Ar…          7098
 2       6004      53864              882 Commerci… Arts                   40492
 3       6211      24417              437 Hospital… Business               18368
 4       2201       5411               72 Cosmetol… Industrial Ar…          3590
 5       2001       9109              171 Communic… Computers &amp; M…          7512
 6       3201       1542               22 Court Re… Law &amp; Public …          1008
 7       6206     190996             3738 Marketin… Business              151570
 8       1101      17488              386 Agricult… Agriculture &amp;…         13104
 9       2101       5611               98 Computer… Computers &amp; M…          4716
10       1904      33928              688 Advertis… Communication…         28517
# ℹ 163 more rows
# ℹ 16 more variables: grad_employed_fulltime_yearround &lt;int&gt;,
#   grad_unemployed &lt;int&gt;, grad_unemployment_rate &lt;dbl&gt;, grad_p25th &lt;dbl&gt;,
#   grad_median &lt;dbl&gt;, grad_p75th &lt;int&gt;, nongrad_total &lt;int&gt;,
#   nongrad_employed &lt;int&gt;, nongrad_employed_fulltime_yearround &lt;int&gt;,
#   nongrad_unemployed &lt;int&gt;, nongrad_unemployment_rate &lt;dbl&gt;,
#   nongrad_p25th &lt;dbl&gt;, nongrad_median &lt;dbl&gt;, nongrad_p75th &lt;dbl&gt;, …</code></pre>
</div>
</div>
<p><code>everything()</code> is a helper verb that includes <strong>all</strong> column names</p>
</section>
<section id="starts_with" class="level2">
<h2 class="anchored" data-anchor-id="starts_with"><code>starts_with()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>reads <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"test"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 3
   test_year              test_type test_site
   &lt;chr&gt;                  &lt;chr&gt;     &lt;chr&gt;    
 1 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
 2 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
 3 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
 4 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
 5 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
 6 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
 7 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
 8 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
 9 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
10 06/01/2016 12:00:00 AM YEAR END  VIRDEN   
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="ends_with" class="level2">
<h2 class="anchored" data-anchor-id="ends_with"><code>ends_with()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>reads <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"score"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 10
   pre_test_score post_test_score unit_1_score unit_2_score unit_3_score
            &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
 1             43              92            3            4            6
 2             46             104            5            5            6
 3             39              75            4            4            6
 4             35             115            4            4            6
 5             46              85            2            5            6
 6             35              91            5            5            7
 7             40              96            5            5            6
 8             39              74            4            5            5
 9             40              90            6            4            5
10             45              86            4            5            5
# ℹ 38 more rows
# ℹ 5 more variables: unit_4_score &lt;dbl&gt;, unit_5_6_score &lt;dbl&gt;,
#   unit_7_score &lt;dbl&gt;, unit_8_score &lt;dbl&gt;, total_score &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="contains" class="level2">
<h2 class="anchored" data-anchor-id="contains"><code>contains()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>reads <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"test"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 7
   test_year test_type test_site pre_test_score pre_test_percent post_test_score
   &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;                      &lt;dbl&gt;
 1 06/01/20… YEAR END  VIRDEN                43 29%                           92
 2 06/01/20… YEAR END  VIRDEN                46 31%                          104
 3 06/01/20… YEAR END  VIRDEN                39 26%                           75
 4 06/01/20… YEAR END  VIRDEN                35 23%                          115
 5 06/01/20… YEAR END  VIRDEN                46 31%                           85
 6 06/01/20… YEAR END  VIRDEN                35 23%                           91
 7 06/01/20… YEAR END  VIRDEN                40 27%                           96
 8 06/01/20… YEAR END  VIRDEN                39 26%                           74
 9 06/01/20… YEAR END  VIRDEN                40 27%                           90
10 06/01/20… YEAR END  VIRDEN                45 30%                           86
# ℹ 38 more rows
# ℹ 1 more variable: post_test_percent &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="all_of" class="level2">
<h2 class="anchored" data-anchor-id="all_of"><code>all_of()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"pre_test_score"</span>, <span class="st">"pre_test_percent"</span>, <span class="st">"post_test_score"</span>, <span class="st">"post_test_percent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>reads <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(vars))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 4
   pre_test_score pre_test_percent post_test_score post_test_percent
            &lt;dbl&gt; &lt;chr&gt;                      &lt;dbl&gt; &lt;chr&gt;            
 1             43 29%                           92 61%              
 2             46 31%                          104 69%              
 3             39 26%                           75 50%              
 4             35 23%                          115 77%              
 5             46 31%                           85 57%              
 6             35 23%                           91 61%              
 7             40 27%                           96 64%              
 8             39 26%                           74 49%              
 9             40 27%                           90 60%              
10             45 30%                           86 57%              
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="all_of-1" class="level2">
<h2 class="anchored" data-anchor-id="all_of-1"><code>all_of()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"pre_test_score"</span>, <span class="st">"pre_test_percent"</span>, <span class="st">"post_test_score"</span>, <span class="st">"post_test_percent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">all_of</span>(vars))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `all_of()`:
! Can't subset columns that don't exist.
✖ Columns `pre_test_score`, `pre_test_percent`, `post_test_score`, and `post_test_percent` don't exist.</code></pre>
</div>
</div>
</section>
<section id="any_of" class="level2">
<h2 class="anchored" data-anchor-id="any_of"><code>any_of()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"pre_test_score"</span>, <span class="st">"pre_test_percent"</span>, <span class="st">"post_test_score"</span>, <span class="st">"post_test_percent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>reads <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">any_of</span>(vars))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 4
   pre_test_score pre_test_percent post_test_score post_test_percent
            &lt;dbl&gt; &lt;chr&gt;                      &lt;dbl&gt; &lt;chr&gt;            
 1             43 29%                           92 61%              
 2             46 31%                          104 69%              
 3             39 26%                           75 50%              
 4             35 23%                          115 77%              
 5             46 31%                           85 57%              
 6             35 23%                           91 61%              
 7             40 27%                           96 64%              
 8             39 26%                           74 49%              
 9             40 27%                           90 60%              
10             45 30%                           86 57%              
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="any_of-1" class="level2">
<h2 class="anchored" data-anchor-id="any_of-1"><code>any_of()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"pre_test_score"</span>, <span class="st">"pre_test_percent"</span>, <span class="st">"post_test_score"</span>, <span class="st">"post_test_percent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">any_of</span>(vars))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 234 × 0</code></pre>
</div>
</div>
</section>
<section id="mix-select-methods-and-helpers" class="level2">
<h2 class="anchored" data-anchor-id="mix-select-methods-and-helpers">Mix <code>select</code> methods and helpers</h2>
<p>You can mix types and helper functions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>reads <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(student_id, <span class="dv">1</span>, <span class="fu">starts_with</span>(<span class="st">"total"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 4
   student_id test_year              total_score total_percent_correct
   &lt;chr&gt;      &lt;chr&gt;                        &lt;dbl&gt; &lt;chr&gt;                
 1 Virden 1   06/01/2016 12:00:00 AM         207 41%                  
 2 Virden 2   06/01/2016 12:00:00 AM         224 45%                  
 3 Virden 3   06/01/2016 12:00:00 AM         193 39%                  
 4 Virden 4   06/01/2016 12:00:00 AM         223 45%                  
 5 Virden 5   06/01/2016 12:00:00 AM         198 40%                  
 6 Virden 6   06/01/2016 12:00:00 AM         210 42%                  
 7 Virden 7   06/01/2016 12:00:00 AM         211 42%                  
 8 Virden 8   06/01/2016 12:00:00 AM         180 36%                  
 9 Virden 9   06/01/2016 12:00:00 AM         206 41%                  
10 Virden 10  06/01/2016 12:00:00 AM         206 41%                  
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="mix-select-methods-and-helpers-1" class="level2">
<h2 class="anchored" data-anchor-id="mix-select-methods-and-helpers-1">Mix <code>select</code> methods and helpers</h2>
<p>You can also use select to rearrange your columns</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>reads <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(student_id, <span class="dv">1</span>, <span class="fu">starts_with</span>(<span class="st">"total"</span>), <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 25
   student_id test_year    total_score total_percent_correct test_type test_site
   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;     &lt;chr&gt;    
 1 Virden 1   06/01/2016 …         207 41%                   YEAR END  VIRDEN   
 2 Virden 2   06/01/2016 …         224 45%                   YEAR END  VIRDEN   
 3 Virden 3   06/01/2016 …         193 39%                   YEAR END  VIRDEN   
 4 Virden 4   06/01/2016 …         223 45%                   YEAR END  VIRDEN   
 5 Virden 5   06/01/2016 …         198 40%                   YEAR END  VIRDEN   
 6 Virden 6   06/01/2016 …         210 42%                   YEAR END  VIRDEN   
 7 Virden 7   06/01/2016 …         211 42%                   YEAR END  VIRDEN   
 8 Virden 8   06/01/2016 …         180 36%                   YEAR END  VIRDEN   
 9 Virden 9   06/01/2016 …         206 41%                   YEAR END  VIRDEN   
10 Virden 10  06/01/2016 …         206 41%                   YEAR END  VIRDEN   
# ℹ 38 more rows
# ℹ 19 more variables: pre_test_score &lt;dbl&gt;, pre_test_percent &lt;chr&gt;,
#   post_test_score &lt;dbl&gt;, post_test_percent &lt;chr&gt;, percentage_change &lt;chr&gt;,
#   unit_1_score &lt;dbl&gt;, unit_1_percent &lt;chr&gt;, unit_2_score &lt;dbl&gt;,
#   unit_2_percent &lt;chr&gt;, unit_3_score &lt;dbl&gt;, unit_3_percent &lt;chr&gt;,
#   unit_4_score &lt;dbl&gt;, unit_4_percent &lt;chr&gt;, unit_5_6_score &lt;dbl&gt;,
#   unit_5_6_percent &lt;chr&gt;, unit_7_score &lt;dbl&gt;, unit_7_percent &lt;chr&gt;, …</code></pre>
</div>
</div>
</section>
<section id="relocate" class="level2">
<h2 class="anchored" data-anchor-id="relocate"><code>relocate()</code></h2>
<p><span style="color:#D55E00">relocate(</span><span style="color:#56B4E9">.data</span>, … <span style="color:#009E73">before = NULL</span>, <span style="color:#E69f00">.after = NULL</span><span style="color:#D55E00">)</span></p>
<p><span style="color:#56B4E9">.data</span> = dataframe/tibble</p>
<p>… = columns to move</p>
<p><span style="color:#009E73">before</span> = variable to move <em>before</em></p>
<p><span style="color:#E69f00">.after</span> = variable to move <em>after</em></p>
<ul>
<li>supplying neither <span style="color:#009E73">before</span> nor <span style="color:#E69f00">.after</span> move columns to the left-hand side</li>
<li>specifying both is an error</li>
</ul>
</section>
<section id="relocate-1" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="relocate-1"><code>relocate()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
   party      name       start      end       
   &lt;chr&gt;      &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;    
 1 Republican Eisenhower 1953-01-20 1961-01-20
 2 Democratic Kennedy    1961-01-20 1963-11-22
 3 Democratic Johnson    1963-11-22 1969-01-20
 4 Republican Nixon      1969-01-20 1974-08-09
 5 Republican Ford       1974-08-09 1977-01-20
 6 Democratic Carter     1977-01-20 1981-01-20
 7 Republican Reagan     1981-01-20 1989-01-20
 8 Republican Bush       1989-01-20 1993-01-20
 9 Democratic Clinton    1993-01-20 2001-01-20
10 Republican Bush       2001-01-20 2009-01-20
11 Democratic Obama      2009-01-20 2017-01-20
12 Republican Trump      2017-01-20 2021-01-20</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p>moves “party” to far left (default)</p>
</div></div></section>
<section id="relocate-2" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="relocate-2"><code>relocate()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(party, <span class="at">.after =</span> start)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
   name       start      party      end       
   &lt;chr&gt;      &lt;date&gt;     &lt;chr&gt;      &lt;date&gt;    
 1 Eisenhower 1953-01-20 Republican 1961-01-20
 2 Kennedy    1961-01-20 Democratic 1963-11-22
 3 Johnson    1963-11-22 Democratic 1969-01-20
 4 Nixon      1969-01-20 Republican 1974-08-09
 5 Ford       1974-08-09 Republican 1977-01-20
 6 Carter     1977-01-20 Democratic 1981-01-20
 7 Reagan     1981-01-20 Republican 1989-01-20
 8 Bush       1989-01-20 Republican 1993-01-20
 9 Clinton    1993-01-20 Democratic 2001-01-20
10 Bush       2001-01-20 Republican 2009-01-20
11 Obama      2009-01-20 Democratic 2017-01-20
12 Trump      2017-01-20 Republican 2021-01-20</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p>moves “party” after “start”</p>
</div></div></section>
<section id="relocate-3" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="relocate-3"><code>relocate()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(end, <span class="at">.before =</span> party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
   name       start      end        party     
   &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;     
 1 Eisenhower 1953-01-20 1961-01-20 Republican
 2 Kennedy    1961-01-20 1963-11-22 Democratic
 3 Johnson    1963-11-22 1969-01-20 Democratic
 4 Nixon      1969-01-20 1974-08-09 Republican
 5 Ford       1974-08-09 1977-01-20 Republican
 6 Carter     1977-01-20 1981-01-20 Democratic
 7 Reagan     1981-01-20 1989-01-20 Republican
 8 Bush       1989-01-20 1993-01-20 Republican
 9 Clinton    1993-01-20 2001-01-20 Democratic
10 Bush       2001-01-20 2009-01-20 Republican
11 Obama      2009-01-20 2017-01-20 Democratic
12 Trump      2017-01-20 2021-01-20 Republican</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p>moves “end” before “party”</p>
</div></div></section>
</section>
<section id="filter" class="level1 page-columns page-full">
<h1>filter()</h1>
<section id="filter-1" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="filter-1"><code>filter()</code></h2>
<p><span style="color:#56B4E9"><strong>choose rows</strong></span> that satisfy your condition (<code>== TRUE</code>)</p>
<div class="columns">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(df,</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>       type <span class="sc">==</span> <span class="st">"otter"</span>,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>       site <span class="sc">==</span> <span class="st">"bay"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>:::</p>
<p>::: .pull-right[</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://raw.githubusercontent.com/allisonhorst/stats-illustrations/master/rstats-artwork/dplyr_filter.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>:::</p>
<p>::::</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Illustration by <a href="https://github.com/allisonhorst/stats-illustrations/">Allison Horst</a></p>
</div></div></section>
<section id="filter-2" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="filter-2"><code>filter()</code></h2>
<div class="columns">

</div>
<p>Complete set of boolean operations - <em>x</em> is the left-hand circle - <em>y</em> is the right-hand circle - the shaded region show which parts each operator selects + <em>xor</em> == <em>x</em> or <em>y</em> except where they overlap</p>
<p><strong>==</strong> - equal</p>
<p><strong>!</strong> - negates</p>
<p><strong>!=</strong> - NOT equal</p>
<p><strong>&amp;</strong> - and</p>
<p><strong>|</strong> - or :::</p>
<p>:::</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://d33wubrfki0l68.cloudfront.net/01f4b6d39d2be8269740a3ad7946faa79f7243cf/8369a/diagrams/transform-logical.png" class="img-fluid"></p>
</div>
</div>
<p>:::</p>
<p>::::</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Image from <a href="https://r4ds.had.co.nz/transform.html?q=filter#filter-rows-with-filter">Wickham &amp; Grolemund (2017)</a></p>
</div></div></section>
<section id="filter-numeric" class="level2">
<h2 class="anchored" data-anchor-id="filter-numeric"><code>filter()</code> numeric</h2>
<ul>
<li>note the use of <code>==</code> NOT <code>=</code></li>
</ul>
<div class="columns">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cyl <span class="sc">==</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 81 × 11
   manufacturer model      displ  year   cyl trans drv     cty   hwy fl    class
   &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
 1 audi         a4           1.8  1999     4 auto… f        18    29 p     comp…
 2 audi         a4           1.8  1999     4 manu… f        21    29 p     comp…
 3 audi         a4           2    2008     4 manu… f        20    31 p     comp…
 4 audi         a4           2    2008     4 auto… f        21    30 p     comp…
 5 audi         a4 quattro   1.8  1999     4 manu… 4        18    26 p     comp…
 6 audi         a4 quattro   1.8  1999     4 auto… 4        16    25 p     comp…
 7 audi         a4 quattro   2    2008     4 manu… 4        20    28 p     comp…
 8 audi         a4 quattro   2    2008     4 auto… 4        19    27 p     comp…
 9 chevrolet    malibu       2.4  1999     4 auto… f        19    27 r     mids…
10 chevrolet    malibu       2.4  2008     4 auto… f        22    30 r     mids…
# ℹ 71 more rows</code></pre>
</div>
</div>
<p>:::</p>
<p>:::</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hwy <span class="sc">&gt;=</span> <span class="dv">22</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 143 × 11
   manufacturer model      displ  year   cyl trans drv     cty   hwy fl    class
   &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
 1 audi         a4           1.8  1999     4 auto… f        18    29 p     comp…
 2 audi         a4           1.8  1999     4 manu… f        21    29 p     comp…
 3 audi         a4           2    2008     4 manu… f        20    31 p     comp…
 4 audi         a4           2    2008     4 auto… f        21    30 p     comp…
 5 audi         a4           2.8  1999     6 auto… f        16    26 p     comp…
 6 audi         a4           2.8  1999     6 manu… f        18    26 p     comp…
 7 audi         a4           3.1  2008     6 auto… f        18    27 p     comp…
 8 audi         a4 quattro   1.8  1999     4 manu… 4        18    26 p     comp…
 9 audi         a4 quattro   1.8  1999     4 auto… 4        16    25 p     comp…
10 audi         a4 quattro   2    2008     4 manu… 4        20    28 p     comp…
# ℹ 133 more rows</code></pre>
</div>
</div>
<p>:::</p>
<p>::::</p>
</section>
<section id="filter-for-democrats" class="level2">
<h2 class="anchored" data-anchor-id="filter-for-democrats"><code>filter</code> for Democrats</h2>
<ul>
<li>note the use of <code>==</code> NOT <code>=</code></li>
</ul>
<div class="columns">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(party <span class="sc">==</span> <span class="st">"Democratic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
  name    start      end        party     
  &lt;chr&gt;   &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;     
1 Kennedy 1961-01-20 1963-11-22 Democratic
2 Johnson 1963-11-22 1969-01-20 Democratic
3 Carter  1977-01-20 1981-01-20 Democratic
4 Clinton 1993-01-20 2001-01-20 Democratic
5 Obama   2009-01-20 2017-01-20 Democratic</code></pre>
</div>
</div>
<p>:::</p>
<p>:::</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="at">party =</span> <span class="st">"Democratic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `filter()`:
! We detected a named input.
ℹ This usually means that you've used `=` instead of `==`.
ℹ Did you mean `party == "Democratic"`?</code></pre>
</div>
</div>
<p>:::</p>
<p>::::</p>
</section>
<section id="filter-character" class="level2">
<h2 class="anchored" data-anchor-id="filter-character"><code>filter</code> character</h2>
<ul>
<li>note the use of <code>==</code> NOT <code>=</code></li>
</ul>
<div class="columns">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>mpg_ <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(manufacturer <span class="sc">==</span> <span class="st">"pontiac"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
  manufacturer model      displ  year   cyl
  &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
1 pontiac      grand prix   3.1  1999     6
2 pontiac      grand prix   3.8  1999     6
3 pontiac      grand prix   3.8  1999     6
4 pontiac      grand prix   3.8  2008     6
5 pontiac      grand prix   5.3  2008     8</code></pre>
</div>
</div>
<p>:::</p>
<p>:::</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(party <span class="sc">==</span> <span class="st">"Democratic"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
  name    start      end        party     
  &lt;chr&gt;   &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;     
1 Kennedy 1961-01-20 1963-11-22 Democratic
2 Johnson 1963-11-22 1969-01-20 Democratic
3 Carter  1977-01-20 1981-01-20 Democratic
4 Clinton 1993-01-20 2001-01-20 Democratic
5 Obama   2009-01-20 2017-01-20 Democratic</code></pre>
</div>
</div>
<p>:::</p>
<p>::::</p>
</section>
<section id="democrats-starting-after-2000" class="level2">
<h2 class="anchored" data-anchor-id="democrats-starting-after-2000">Democrats starting after 2000</h2>
<p><code>,</code> is equivalent to <code>&amp;</code></p>
<div class="columns">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(party <span class="sc">==</span> <span class="st">"Democratic"</span> <span class="sc">&amp;</span> </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  start <span class="sc">&gt;</span> <span class="st">"2000-01-01"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  name  start      end        party     
  &lt;chr&gt; &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;     
1 Obama 2009-01-20 2017-01-20 Democratic</code></pre>
</div>
</div>
<p>:::</p>
<p>:::</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(party <span class="sc">==</span> <span class="st">"Democratic"</span>, </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  start <span class="sc">&gt;</span> <span class="st">"2000-01-01"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  name  start      end        party     
  &lt;chr&gt; &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;     
1 Obama 2009-01-20 2017-01-20 Democratic</code></pre>
</div>
</div>
<p>:::</p>
<p>::::</p>
</section>
<section id="filter-note" class="level2">
<h2 class="anchored" data-anchor-id="filter-note"><code>filter()</code> note</h2>
<ul>
<li>The order of operations doesn’t work like English</li>
<li>Can’t write:
<ul>
<li><code>filter(presidential, name == "Kennedy" | "Johnson")</code></li>
</ul></li>
<li>Must be:
<ul>
<li><code>filter(presidential, name == "Kennedy" | name == "Johnson")</code></li>
</ul></li>
</ul>
</section>
<section id="more-filter" class="level2">
<h2 class="anchored" data-anchor-id="more-filter">more <code>filter()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>reads</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 25
   test_year      test_type test_site student_id pre_test_score pre_test_percent
   &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;           
 1 06/01/2016 12… YEAR END  VIRDEN    Virden 1               43 29%             
 2 06/01/2016 12… YEAR END  VIRDEN    Virden 2               46 31%             
 3 06/01/2016 12… YEAR END  VIRDEN    Virden 3               39 26%             
 4 06/01/2016 12… YEAR END  VIRDEN    Virden 4               35 23%             
 5 06/01/2016 12… YEAR END  VIRDEN    Virden 5               46 31%             
 6 06/01/2016 12… YEAR END  VIRDEN    Virden 6               35 23%             
 7 06/01/2016 12… YEAR END  VIRDEN    Virden 7               40 27%             
 8 06/01/2016 12… YEAR END  VIRDEN    Virden 8               39 26%             
 9 06/01/2016 12… YEAR END  VIRDEN    Virden 9               40 27%             
10 06/01/2016 12… YEAR END  VIRDEN    Virden 10              45 30%             
# ℹ 38 more rows
# ℹ 19 more variables: post_test_score &lt;dbl&gt;, post_test_percent &lt;chr&gt;,
#   percentage_change &lt;chr&gt;, unit_1_score &lt;dbl&gt;, unit_1_percent &lt;chr&gt;,
#   unit_2_score &lt;dbl&gt;, unit_2_percent &lt;chr&gt;, unit_3_score &lt;dbl&gt;,
#   unit_3_percent &lt;chr&gt;, unit_4_score &lt;dbl&gt;, unit_4_percent &lt;chr&gt;,
#   unit_5_6_score &lt;dbl&gt;, unit_5_6_percent &lt;chr&gt;, unit_7_score &lt;dbl&gt;,
#   unit_7_percent &lt;chr&gt;, unit_8_score &lt;dbl&gt;, unit_8_percent &lt;chr&gt;, …</code></pre>
</div>
</div>
</section>
<section id="more-filter-1" class="level2">
<h2 class="anchored" data-anchor-id="more-filter-1">more <code>filter()</code></h2>
<p>Anomaly in the data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>reads <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">count</span>(student_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 46 × 2
   student_id                 n
   &lt;chr&gt;                  &lt;int&gt;
 1 All Students (Average)     3
 2 Jones 1                    1
 3 Jones 10                   1
 4 Jones 11                   1
 5 Jones 12                   1
 6 Jones 13                   1
 7 Jones 14                   1
 8 Jones 15                   1
 9 Jones 2                    1
10 Jones 3                    1
# ℹ 36 more rows</code></pre>
</div>
</div>
</section>
<section id="lets-remove-these-aggregate-rows" class="level2">
<h2 class="anchored" data-anchor-id="lets-remove-these-aggregate-rows">Let’s remove these aggregate rows</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>students_only <span class="ot">&lt;-</span> reads <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(student_id <span class="sc">!=</span> <span class="st">"All Students (Average)"</span>) </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>students_only <span class="sc">%&gt;%</span> </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(student_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 45 × 2
   student_id     n
   &lt;chr&gt;      &lt;int&gt;
 1 Jones 1        1
 2 Jones 10       1
 3 Jones 11       1
 4 Jones 12       1
 5 Jones 13       1
 6 Jones 14       1
 7 Jones 15       1
 8 Jones 2        1
 9 Jones 3        1
10 Jones 4        1
# ℹ 35 more rows</code></pre>
</div>
</div>
</section>
<section id="not-equal" class="level2">
<h2 class="anchored" data-anchor-id="not-equal">Not equal</h2>
<p><code>!</code> means <strong>NOT</strong></p>
<p><code>!=</code> means <em>NOT equal</em></p>
<p>Note:</p>
<ul>
<li>If you want values that are NOT <code>NA</code>:
<ul>
<li><code>!is.na(variable)</code></li>
<li><del><code>variable != NA</code></del></li>
</ul></li>
</ul>
</section>
<section id="chaining-dplyr-functions" class="level2">
<h2 class="anchored" data-anchor-id="chaining-dplyr-functions">Chaining <code>{dplyr}</code> functions</h2>
<p>What if we wanted to <code>select</code> and <code>filter</code> a data set?</p>
<p>Select “<em>name</em>” and “<em>party</em>” of presidents who began their term after 2000</p>
<ol type="1">
<li>Two step method</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>after_2000 <span class="ot">&lt;-</span> <span class="fu">filter</span>(presidential, start <span class="sc">&gt;</span> <span class="fu">as.Date</span>(<span class="st">"2000-01-01"</span>))</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(after_2000, name, party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  party     
  &lt;chr&gt; &lt;chr&gt;     
1 Bush  Republican
2 Obama Democratic
3 Trump Republican</code></pre>
</div>
</div>
</section>
<section id="chaining-dplyr-functions-1" class="level2">
<h2 class="anchored" data-anchor-id="chaining-dplyr-functions-1">Chaining <code>{dplyr}</code> functions</h2>
<ol start="2" type="1">
<li>Alternatively, we could wrap <code>select</code> around <code>filter</code></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="fu">filter</span>(presidential, start <span class="sc">&gt;</span> <span class="fu">as.Date</span>(<span class="st">"2000-01-01"</span>)), name, party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  party     
  &lt;chr&gt; &lt;chr&gt;     
1 Bush  Republican
2 Obama Democratic
3 Trump Republican</code></pre>
</div>
</div>
</section>
<section id="chaining-dplyr-functions-2" class="level2">
<h2 class="anchored" data-anchor-id="chaining-dplyr-functions-2">Chaining <code>{dplyr}</code> functions</h2>
<ol start="3" type="1">
<li>Piping functions 🎉</li>
</ol>
<ul>
<li><p>We could use the pipe function to help increase the readability of our code: <br> <code>%&gt;%</code> <br></p></li>
<li><p>Called the “pipe” operator and “piping functions”</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(presidential, start <span class="sc">&gt;</span> <span class="fu">as.Date</span>(<span class="st">"2000-01-01"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  party     
  &lt;chr&gt; &lt;chr&gt;     
1 Bush  Republican
2 Obama Democratic
3 Trump Republican</code></pre>
</div>
</div>
</section>
<section id="piping-functions" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="piping-functions">Piping functions</h2>
<p>Even better:</p>
<ul>
<li>Generally when using the pipe, the first argument is the data set, which gets piped through the corresponding functions</li>
<li>So the code on the prior slide would be:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">%&gt;%</span> </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(start <span class="sc">&gt;</span> <span class="fu">as.Date</span>(<span class="st">"2000-01-01"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  party     
  &lt;chr&gt; &lt;chr&gt;     
1 Bush  Republican
2 Obama Democratic
3 Trump Republican</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p>Note the lovely indentations and line breaks to help keep things straight</p>
</div></div></section>
</section>
<section id="mutate" class="level1">
<h1>mutate()</h1>
<section id="some-new-data" class="level2">
<h2 class="anchored" data-anchor-id="some-new-data">Some new data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>(prepost <span class="ot">&lt;-</span> reads <span class="sc">%&gt;%</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(student_id, test_site, pre_test_score, post_test_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 4
   student_id test_site pre_test_score post_test_score
   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt;
 1 Virden 1   VIRDEN                43              92
 2 Virden 2   VIRDEN                46             104
 3 Virden 3   VIRDEN                39              75
 4 Virden 4   VIRDEN                35             115
 5 Virden 5   VIRDEN                46              85
 6 Virden 6   VIRDEN                35              91
 7 Virden 7   VIRDEN                40              96
 8 Virden 8   VIRDEN                39              74
 9 Virden 9   VIRDEN                40              90
10 Virden 10  VIRDEN                45              86
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="mutate-1" class="level2">
<h2 class="anchored" data-anchor-id="mutate-1"><code>mutate()</code></h2>
<p><strong>Add</strong> a variable</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb84-2"><a href="#cb84-2"></a>  <span class="fu">mutate</span>(<span class="at">gain =</span> post_test_score <span class="sc">-</span> pre_test_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 5
   student_id test_site pre_test_score post_test_score  gain
   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;
 1 Virden 1   VIRDEN                43              92    49
 2 Virden 2   VIRDEN                46             104    58
 3 Virden 3   VIRDEN                39              75    36
 4 Virden 4   VIRDEN                35             115    80
 5 Virden 5   VIRDEN                46              85    39
 6 Virden 6   VIRDEN                35              91    56
 7 Virden 7   VIRDEN                40              96    56
 8 Virden 8   VIRDEN                39              74    35
 9 Virden 9   VIRDEN                40              90    50
10 Virden 10  VIRDEN                45              86    41
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(prepost)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "student_id"      "test_site"       "pre_test_score"  "post_test_score"</code></pre>
</div>
</div>
<p>. . .</p>
<p>Why do we not see the new <em>gain</em> column?</p>
</section>
<section id="mutate-2" class="level2">
<h2 class="anchored" data-anchor-id="mutate-2"><code>mutate()</code></h2>
<p><strong>Add</strong> <em>multiple</em> variables</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="ot">&lt;-</span> prepost <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">gain =</span> post_test_score <span class="sc">-</span> pre_test_score,</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">sum_tests =</span> post_test_score <span class="sc">+</span> pre_test_score</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>prepost</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 6
   student_id test_site pre_test_score post_test_score  gain sum_tests
   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
 1 Virden 1   VIRDEN                43              92    49       135
 2 Virden 2   VIRDEN                46             104    58       150
 3 Virden 3   VIRDEN                39              75    36       114
 4 Virden 4   VIRDEN                35             115    80       150
 5 Virden 5   VIRDEN                46              85    39       131
 6 Virden 6   VIRDEN                35              91    56       126
 7 Virden 7   VIRDEN                40              96    56       136
 8 Virden 8   VIRDEN                39              74    35       113
 9 Virden 9   VIRDEN                40              90    50       130
10 Virden 10  VIRDEN                45              86    41       131
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="mutate-3" class="level2">
<h2 class="anchored" data-anchor-id="mutate-3"><code>mutate()</code></h2>
<p><strong>Change</strong> a variable</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="ot">&lt;-</span> prepost <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sum_tests =</span> (sum_tests<span class="sc">/</span><span class="dv">180</span>) <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>prepost</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 6
   student_id test_site pre_test_score post_test_score  gain sum_tests
   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
 1 Virden 1   VIRDEN                43              92    49      75  
 2 Virden 2   VIRDEN                46             104    58      83.3
 3 Virden 3   VIRDEN                39              75    36      63.3
 4 Virden 4   VIRDEN                35             115    80      83.3
 5 Virden 5   VIRDEN                46              85    39      72.8
 6 Virden 6   VIRDEN                35              91    56      70  
 7 Virden 7   VIRDEN                40              96    56      75.6
 8 Virden 8   VIRDEN                39              74    35      62.8
 9 Virden 9   VIRDEN                40              90    50      72.2
10 Virden 10  VIRDEN                45              86    41      72.8
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="arrange" class="level1">
<h1>arrange()</h1>
<section id="arrange-1" class="level2">
<h2 class="anchored" data-anchor-id="arrange-1"><code>arrange()</code></h2>
<p>Order the data</p>
<ul>
<li>Order by <em>gain</em>, ascending [default]</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(gain)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 6
   student_id  test_site pre_test_score post_test_score  gain sum_tests
   &lt;chr&gt;       &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
 1 Jones 12    JONES                 27              32     5      32.8
 2 Westside 6  WESTSIDE              57              82    25      77.2
 3 Virden 8    VIRDEN                39              74    35      62.8
 4 Virden 3    VIRDEN                39              75    36      63.3
 5 Virden 5    VIRDEN                46              85    39      72.8
 6 Virden 10   VIRDEN                45              86    41      72.8
 7 Jones 3     JONES                 54              95    41      82.8
 8 Virden 1    VIRDEN                43              92    49      75  
 9 Jones 13    JONES                 49              98    49      81.7
10 Westside 13 WESTSIDE              45              94    49      77.2
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="arrange-2" class="level2">
<h2 class="anchored" data-anchor-id="arrange-2"><code>arrange()</code></h2>
<p>Order the data</p>
<ul>
<li>Order by <em>pre_test_score</em> and <em>gain</em>, ascending</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(pre_test_score, gain)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 6
   student_id test_site pre_test_score post_test_score  gain sum_tests
   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
 1 Jones 11   JONES                 24             108    84      73.3
 2 Jones 4    JONES                 25              99    74      68.9
 3 Jones 12   JONES                 27              32     5      32.8
 4 Virden 12  VIRDEN                31             102    71      73.9
 5 Virden 11  VIRDEN                32              91    59      68.3
 6 Virden 13  VIRDEN                33              86    53      66.1
 7 Virden 6   VIRDEN                35              91    56      70  
 8 Virden 15  VIRDEN                35             101    66      75.6
 9 Jones 9    JONES                 35             109    74      80  
10 Virden 4   VIRDEN                35             115    80      83.3
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="arrange-3" class="level2">
<h2 class="anchored" data-anchor-id="arrange-3"><code>arrange()</code></h2>
<p>Order the data</p>
<ul>
<li>Order by <em>gain</em>, <code>desc</code>ending</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gain))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 6
   student_id test_site pre_test_score post_test_score  gain sum_tests
   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
 1 Jones 11   JONES                 24             108    84      73.3
 2 Virden 4   VIRDEN                35             115    80      83.3
 3 Jones 4    JONES                 25              99    74      68.9
 4 Jones 5    JONES                 36             110    74      81.1
 5 Jones 9    JONES                 35             109    74      80  
 6 Virden 12  VIRDEN                31             102    71      73.9
 7 Jones 1    JONES                 36             103    67      77.2
 8 Virden 15  VIRDEN                35             101    66      75.6
 9 Jones 6    JONES                 40             106    66      81.1
10 Westside 8 WESTSIDE              43             109    66      84.4
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="summarize" class="level1">
<h1>summarize()</h1>
<section id="summarize-1" class="level2">
<h2 class="anchored" data-anchor-id="summarize-1"><code>summarize()</code></h2>
<p>or <code>summarise()</code></p>
<ul>
<li>Here: compute the <code>mean</code> and <code>standard deviation</code> of the gain scores</li>
<li>What are we looking at?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_gain =</span> <span class="fu">mean</span>(gain, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd_gain =</span> <span class="fu">sd</span>(gain, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  mean_gain sd_gain
      &lt;dbl&gt;   &lt;dbl&gt;
1      56.3    13.6</code></pre>
</div>
</div>
<p>::: {aside .fragment} This is a good start for a descriptive table! :::</p>
</section>
</section>
<section id="group_by" class="level1 page-columns page-full">
<h1>group_by()</h1>
<section id="section-4" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="section-4"></h2>
<div class="columns">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://swcarpentry.github.io/r-novice-gapminder/fig/13-dplyr-fig2.png" class="img-fluid"></p>
</div>
</div>
<p>:::</p>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<p><img src="https://swcarpentry.github.io/r-novice-gapminder/fig/13-dplyr-fig3.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>::::</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Image from <a href="https://swcarpentry.github.io/r-novice-gapminder/13-dplyr/">Software Carpentry</a></p>
</div></div></section>
<section id="group_by-1" class="level2">
<h2 class="anchored" data-anchor-id="group_by-1"><code>group_by()</code></h2>
<p><b>Conduct an operation for each level of a grouping factor</b></p>
<p>Here, compute the mean gain for each <em>test site</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(test_site) <span class="sc">%&gt;%</span> </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_gain =</span> <span class="fu">mean</span>(gain))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  test_site    mean_gain
  &lt;chr&gt;            &lt;dbl&gt;
1 JONES             59  
2 JONES ALL         59  
3 VIRDEN            53.8
4 VIRDEN ALL        53  
5 WESTSIDE          56.3
6 WESTSIDE ALL      56  </code></pre>
</div>
</div>
</section>
<section id="group_by-2" class="level2">
<h2 class="anchored" data-anchor-id="group_by-2"><code>group_by()</code></h2>
<p>When you use <code>group_by()</code> and <code>summarize()</code></p>
<div class="columns">

</div>
<p>You will get a row for each unique group</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span> </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">max_hwy =</span> <span class="fu">max</span>(hwy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
    cyl max_hwy
  &lt;int&gt;   &lt;int&gt;
1     4      44
2     5      29
3     6      29
4     8      26</code></pre>
</div>
</div>
<p>:::</p>
<div class="fragment">
<p>If you have multiple grouping variables, you will get a row for each unique combination of groups</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cyl, drv) <span class="sc">%&gt;%</span> </span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">max_hwy =</span> <span class="fu">max</span>(hwy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
# Groups:   cyl [4]
    cyl drv   max_hwy
  &lt;int&gt; &lt;chr&gt;   &lt;int&gt;
1     4 4          28
2     4 f          44
3     5 f          29
4     6 4          25
5     6 f          29
6     6 r          26
7     8 4          23
8     8 f          25
9     8 r          26</code></pre>
</div>
</div>
</div>
<p>::::</p>
</section>
<section id="add-summarized-column-to-full-data" class="level2">
<h2 class="anchored" data-anchor-id="add-summarized-column-to-full-data">Add summarized column to full data</h2>
<p>Use <code>mutate()</code>!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(test_site) <span class="sc">%&gt;%</span> </span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_gain =</span> <span class="fu">mean</span>(gain))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 × 7
# Groups:   test_site [6]
   student_id test_site pre_test_score post_test_score  gain sum_tests mean_gain
   &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Virden 1   VIRDEN                43              92    49      75        53.8
 2 Virden 2   VIRDEN                46             104    58      83.3      53.8
 3 Virden 3   VIRDEN                39              75    36      63.3      53.8
 4 Virden 4   VIRDEN                35             115    80      83.3      53.8
 5 Virden 5   VIRDEN                46              85    39      72.8      53.8
 6 Virden 6   VIRDEN                35              91    56      70        53.8
 7 Virden 7   VIRDEN                40              96    56      75.6      53.8
 8 Virden 8   VIRDEN                39              74    35      62.8      53.8
 9 Virden 9   VIRDEN                40              90    50      72.2      53.8
10 Virden 10  VIRDEN                45              86    41      72.8      53.8
# ℹ 38 more rows</code></pre>
</div>
</div>
</section>
<section id="retain-only-summarized-columns" class="level2">
<h2 class="anchored" data-anchor-id="retain-only-summarized-columns">Retain only summarized columns</h2>
<p>Use <code>summarize()</code>!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(test_site) <span class="sc">%&gt;%</span> </span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_gain =</span> <span class="fu">mean</span>(gain))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  test_site    mean_gain
  &lt;chr&gt;            &lt;dbl&gt;
1 JONES             59  
2 JONES ALL         59  
3 VIRDEN            53.8
4 VIRDEN ALL        53  
5 WESTSIDE          56.3
6 WESTSIDE ALL      56  </code></pre>
</div>
</div>
</section>
<section id="pipe-to-ggplot" class="level2">
<h2 class="anchored" data-anchor-id="pipe-to-ggplot">Pipe to <code>{ggplot}</code>!</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>prepost <span class="sc">%&gt;%</span> </span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(test_site) <span class="sc">%&gt;%</span> </span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_gain =</span> <span class="fu">mean</span>(gain)) <span class="sc">%&gt;%</span> </span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(test_site, mean_gain)) <span class="sc">+</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"cornflowerblue"</span>, <span class="at">alpha =</span> .<span class="dv">7</span>) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w4_dplyr_files/figure-html/unnamed-chunk-66-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
<p><img src="./images/kd.gif" class="img-fluid"></p>
</section>
<section id="summarizing-and-plotting" class="level2">
<h2 class="anchored" data-anchor-id="summarizing-and-plotting">Summarizing and Plotting</h2>
<ul>
<li>Calculate mean <em>post_test_score</em> by test site</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>students_only <span class="sc">%&gt;%</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(test_site) <span class="sc">%&gt;%</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(post_test_score))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  test_site  mean
  &lt;chr&gt;     &lt;dbl&gt;
1 JONES      97.8
2 VIRDEN     92.5
3 WESTSIDE  103. </code></pre>
</div>
</div>
</section>
<section id="plot-it" class="level2">
<h2 class="anchored" data-anchor-id="plot-it">Plot it</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>))</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>students_only <span class="sc">%&gt;%</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(test_site) <span class="sc">%&gt;%</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(post_test_score)) <span class="sc">%&gt;%</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(test_site, mean)) <span class="sc">+</span></span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="w4_dplyr_files/figure-html/unnamed-chunk-68-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="a-couple-more" class="level1">
<h1>A couple more</h1>
<p><code>recode()</code> and <code>rename()</code></p>
<section id="recode-with-ifelse" class="level2">
<h2 class="anchored" data-anchor-id="recode-with-ifelse">Recode with <code>ifelse()</code></h2>
<p>Recoding into dichotomous variable with <code>ifelse()</code></p>
<p><code>ifelse(</code>test, yes, no<code>)</code></p>
<p><em>or</em></p>
<p><code>ifelse(</code>logical statement, Do this <code>if</code> TRUE, <code>else</code> do this<code>)</code></p>
</section>
<section id="recode-with-ifelse-1" class="level2">
<h2 class="anchored" data-anchor-id="recode-with-ifelse-1">Recode with <code>ifelse()</code></h2>
<p>Recoding into dichotomous variable with <code>ifelse()</code></p>
<p><strong>Remember to pair with <code>mutate()</code>!</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>students_only <span class="sc">%&gt;%</span> </span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">test_site =</span> <span class="fu">ifelse</span>(test_site <span class="sc">==</span> <span class="st">"JONES"</span>, <span class="st">"district 1"</span>, <span class="st">"district 2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 45 × 25
   test_year      test_type test_site student_id pre_test_score pre_test_percent
   &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;           
 1 06/01/2016 12… YEAR END  district… Virden 1               43 29%             
 2 06/01/2016 12… YEAR END  district… Virden 2               46 31%             
 3 06/01/2016 12… YEAR END  district… Virden 3               39 26%             
 4 06/01/2016 12… YEAR END  district… Virden 4               35 23%             
 5 06/01/2016 12… YEAR END  district… Virden 5               46 31%             
 6 06/01/2016 12… YEAR END  district… Virden 6               35 23%             
 7 06/01/2016 12… YEAR END  district… Virden 7               40 27%             
 8 06/01/2016 12… YEAR END  district… Virden 8               39 26%             
 9 06/01/2016 12… YEAR END  district… Virden 9               40 27%             
10 06/01/2016 12… YEAR END  district… Virden 10              45 30%             
# ℹ 35 more rows
# ℹ 19 more variables: post_test_score &lt;dbl&gt;, post_test_percent &lt;chr&gt;,
#   percentage_change &lt;chr&gt;, unit_1_score &lt;dbl&gt;, unit_1_percent &lt;chr&gt;,
#   unit_2_score &lt;dbl&gt;, unit_2_percent &lt;chr&gt;, unit_3_score &lt;dbl&gt;,
#   unit_3_percent &lt;chr&gt;, unit_4_score &lt;dbl&gt;, unit_4_percent &lt;chr&gt;,
#   unit_5_6_score &lt;dbl&gt;, unit_5_6_percent &lt;chr&gt;, unit_7_score &lt;dbl&gt;,
#   unit_7_percent &lt;chr&gt;, unit_8_score &lt;dbl&gt;, unit_8_percent &lt;chr&gt;, …</code></pre>
</div>
</div>
</section>
<section id="recode-with-recode" class="level2">
<h2 class="anchored" data-anchor-id="recode-with-recode">Recode with <code>recode()</code></h2>
<p>Recoding into multinomial variable</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">recode</span>(variable,</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">old_category_1 =</span> <span class="st">"new_category_1"</span>,</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">old_category_2 =</span> <span class="st">"new_category_2"</span>,</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">old_category_3 =</span> <span class="st">"new_category_3"</span>,</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>       ...</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="recode-with-recode-1" class="level2">
<h2 class="anchored" data-anchor-id="recode-with-recode-1">Recode with <code>recode()</code></h2>
<p>Recoding into multinomial variable</p>
<p><strong>Remember to pair with <code>mutate()</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>students_only <span class="sc">%&gt;%</span> </span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">test_site =</span> <span class="fu">recode</span>(test_site,</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">JONES =</span> <span class="st">"Jones Middle"</span>,</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">VIRDEN =</span> <span class="st">"Virden Elementary"</span>,</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">WESTSIDE =</span> <span class="st">"Westside High"</span>)</span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>         )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 45 × 25
   test_year      test_type test_site student_id pre_test_score pre_test_percent
   &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;           
 1 06/01/2016 12… YEAR END  Virden E… Virden 1               43 29%             
 2 06/01/2016 12… YEAR END  Virden E… Virden 2               46 31%             
 3 06/01/2016 12… YEAR END  Virden E… Virden 3               39 26%             
 4 06/01/2016 12… YEAR END  Virden E… Virden 4               35 23%             
 5 06/01/2016 12… YEAR END  Virden E… Virden 5               46 31%             
 6 06/01/2016 12… YEAR END  Virden E… Virden 6               35 23%             
 7 06/01/2016 12… YEAR END  Virden E… Virden 7               40 27%             
 8 06/01/2016 12… YEAR END  Virden E… Virden 8               39 26%             
 9 06/01/2016 12… YEAR END  Virden E… Virden 9               40 27%             
10 06/01/2016 12… YEAR END  Virden E… Virden 10              45 30%             
# ℹ 35 more rows
# ℹ 19 more variables: post_test_score &lt;dbl&gt;, post_test_percent &lt;chr&gt;,
#   percentage_change &lt;chr&gt;, unit_1_score &lt;dbl&gt;, unit_1_percent &lt;chr&gt;,
#   unit_2_score &lt;dbl&gt;, unit_2_percent &lt;chr&gt;, unit_3_score &lt;dbl&gt;,
#   unit_3_percent &lt;chr&gt;, unit_4_score &lt;dbl&gt;, unit_4_percent &lt;chr&gt;,
#   unit_5_6_score &lt;dbl&gt;, unit_5_6_percent &lt;chr&gt;, unit_7_score &lt;dbl&gt;,
#   unit_7_percent &lt;chr&gt;, unit_8_score &lt;dbl&gt;, unit_8_percent &lt;chr&gt;, …</code></pre>
</div>
</div>
</section>
<section id="recode-with-recode-2" class="level2">
<h2 class="anchored" data-anchor-id="recode-with-recode-2">Recode with <code>recode()</code></h2>
<p>Remember to use backticks for special characters</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> </span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cyl_str =</span> <span class="fu">recode</span>(cyl,</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>                      <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"cylinders4"</span>,</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>                      <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"cylinders6"</span>,</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>                      <span class="st">`</span><span class="at">8</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"cylinders8"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="recode-with-case_when" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="recode-with-case_when">Recode with <code>case_when()</code></h2>
<p>Recoding across several variables, or if you find yourself using nested <code>ifelse()</code> statements</p>
<p><strong>Remember to pair with <code>mutate()</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species_big =</span> </span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">case_when</span>(</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>             body_mass_g <span class="sc">&gt;</span> <span class="dv">4500</span> <span class="sc">&amp;</span> species <span class="sc">==</span> <span class="st">"Adelie"</span> <span class="sc">~</span> <span class="st">"adelie_big"</span>,</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>             body_mass_g <span class="sc">&gt;</span> <span class="dv">4600</span> <span class="sc">&amp;</span> species <span class="sc">==</span> <span class="st">"Chinstrap"</span> <span class="sc">~</span> <span class="st">"chinstrap_big"</span>,</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>             body_mass_g <span class="sc">&gt;</span> <span class="dv">6000</span> <span class="sc">&amp;</span> species <span class="sc">==</span> <span class="st">"Gentoo"</span> <span class="sc">~</span> <span class="st">"gentoo_big"</span>,</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>             .default <span class="sc">~</span> <span class="st">"other"</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>           ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p><code>.default</code> equivalent to <code>all else</code></p>
</section>
<section id="rename" class="level2">
<h2 class="anchored" data-anchor-id="rename"><code>rename()</code></h2>
<p><code>rename(new_name = old_name)</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">home =</span> island,</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">bill_length =</span> bill_length_mm</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 8
   species home    bill_length bill_depth_mm flipper_length_mm body_mass_g sex  
   &lt;fct&gt;   &lt;fct&gt;         &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt;
 1 Adelie  Torger…        39.1          18.7               181        3750 male 
 2 Adelie  Torger…        39.5          17.4               186        3800 fema…
 3 Adelie  Torger…        40.3          18                 195        3250 fema…
 4 Adelie  Torger…        NA            NA                  NA          NA &lt;NA&gt; 
 5 Adelie  Torger…        36.7          19.3               193        3450 fema…
 6 Adelie  Torger…        39.3          20.6               190        3650 male 
 7 Adelie  Torger…        38.9          17.8               181        3625 fema…
 8 Adelie  Torger…        39.2          19.6               195        4675 male 
 9 Adelie  Torger…        34.1          18.1               193        3475 &lt;NA&gt; 
10 Adelie  Torger…        42            20.2               190        4250 &lt;NA&gt; 
# ℹ 334 more rows
# ℹ 1 more variable: year &lt;int&gt;</code></pre>
</div>
</div>
<p>. . .</p>
<p><strong>NOT paired with <code>mutate()</code></strong></p>
</section>
<section id="rename-with-select" class="level2">
<h2 class="anchored" data-anchor-id="rename-with-select">rename with <code>select()</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">%&gt;%</span> </span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(species, <span class="at">home =</span> island, <span class="at">bill_length =</span> bill_length_mm, year) <span class="co">#&lt;&lt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 4
   species home      bill_length  year
   &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt; &lt;int&gt;
 1 Adelie  Torgersen        39.1  2007
 2 Adelie  Torgersen        39.5  2007
 3 Adelie  Torgersen        40.3  2007
 4 Adelie  Torgersen        NA    2007
 5 Adelie  Torgersen        36.7  2007
 6 Adelie  Torgersen        39.3  2007
 7 Adelie  Torgersen        38.9  2007
 8 Adelie  Torgersen        39.2  2007
 9 Adelie  Torgersen        34.1  2007
10 Adelie  Torgersen        42    2007
# ℹ 334 more rows</code></pre>
</div>
</div>
</section>
<section id="final-notes-on-dplyr" class="level2">
<h2 class="anchored" data-anchor-id="final-notes-on-dplyr">Final notes on <code>{dplyr}</code></h2>
<ul>
<li>We could spend weeks on this</li>
<li>We’ll be using it all term long</li>
<li>Verbs can help you gain fluency</li>
<li>There are also conditional and all-inclusive versions of <code>mutate</code>, <code>select</code>, and <code>summarize</code>
<ul>
<li><a href="https://dplyr.tidyverse.org/reference/across.html"><code>across()</code></a></li>
</ul></li>
</ul>
</section>
</section>
<section id="next-time" class="level1">
<h1>Next time</h1>
<section id="before-next-class" class="level2">
<h2 class="anchored" data-anchor-id="before-next-class">Before next class</h2>
<ul>
<li>Final Project
<ul>
<li><span style="color:#FF0000">Final Project: Outline</span></li>
</ul></li>
<li>Reading
<ul>
<li><a href="https://r4ds.hadley.nz/quarto-formats">R4DS(2e) 30</a></li>
</ul></li>
<li>Supplemental Learning
<ul>
<li><a href="https://posit.cloud/learn/primers/2.1">RStudio Primer: Working with Tibbles</a></li>
<li><a href="https://r-bootcamp.netlify.app/chapter3">Rbootcamp: Ch 3</a></li>
<li><a href="https://www.codecademy.com/courses/learn-r/lessons/r-aggregates/exercises/introduction">Codecademy: Aggregates in R</a></li>
</ul></li>
<li>Homework
<ul>
<li>Homework 2</li>
<li>Homework 3</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>