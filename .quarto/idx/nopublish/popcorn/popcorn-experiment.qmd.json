{"title":"The Great Popcorn Experiment!","markdown":{"yaml":{"title":"The Great Popcorn Experiment!","author":"Joe Nese and EDLD 651","date":"9/27/2023","format":{"html":{"code-fold":true}},"execute":{"echo":true,"warning":false},"bibliography":"popcorn_bib.bib"},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n```{r}\n#| message: false\n\nlibrary(tidyverse)\nlibrary(here)\nlibrary(ggthemes)\nlibrary(ggrepel)\nlibrary(reactable)\nlibrary(parameters)\nlibrary(knitr)\n\ntheme_set(theme_minimal(base_size = 18))\n```\n\n\nThis is the great popcorn experiment! An under-powered (mediocre) scientific replication of the famous historical event (folktale?) in statistics in which each person in town was asked to guess the weight of the ox. Having no knowledge of oxen, no person correctly guessed the weight, but the average of all guesses was within one pound of the ox's weight! What an inspiring story of collectivism, the strength in numbers, and the power of data, data science, and statistics! We are better together.\n\n```{r}\ntruth <- 3224\n\ndta <- read_csv(here(\"nopublish\", \"popcorn\", \"popcorn_data.csv\")) %>% \n  mutate(id = ifelse(uo_id %% 2 == 0, \"even\", \"odd\"),\n         initials = paste0(str_sub(first, 1, 1), str_sub(last, 1, 2)),\n         dist = guess - truth) %>% \n  select(-uo_id)\n\nansw <- tibble(\n  name = c(\"Class Mean\", \"Truth\"),\n  value = c(round(mean(dta$guess, na.rm = TRUE)), truth)\n)\n```\n\n# Method\n\nWe used the following packages: `ggrepel` [@ggrepel], `ggthemes` [@ggthemes], `here` [@here], `knitr` [@knitr], `parameters` [@parameters], `reactable` [@reactable], and `tidyverse` [@tidyverse].\n\n### Research Question\n\n1.  Is the average of the class's popcorn guesses closer to the actual number of popcorn kernels in the jar than any one person?\n\nOur hypothesis is that the class average will be more accurate than the guess of any one person.\n\n# Results\n\nFirst, let's look at a density plot, which shows the distribution of the class guesses.\n\n```{r}\ndta %>% \n  ggplot(aes(guess)) +\n  geom_density() +\n  geom_vline(xintercept = truth, color = \"magenta\", size = 2) +\n  geom_vline(xintercept = mean(dta$guess, na.rm = TRUE), size = 2) +\n  ggrepel::geom_label_repel(data = answ, aes(x = value, y = .0005, label = name)) +\n  theme(plot.title.position = \"plot\",\n        axis.text.y = element_blank()) +\n  labs(\n    x = \"Class Guesses\",\n    y = NULL,\n    title = \"Class Guesses\",\n    subtitle = \"Density Plot\"\n  )\n```\n\nAnd here is a table of the class guesses. You can filter and sort it!\n\n```{r}\ndta %>% \n  select(first, guess) %>% \n  reactable(filterable = TRUE, searchable = TRUE)\n```\n\nHere is another cool data visualization.\n\n```{r}\n\ndta %>% \n  ggplot(aes(guess, reorder(first, guess), group = 1)) +\n  geom_point(size = 2.5) +\n  geom_segment(aes(x = 0, xend = guess, y = first, yend = first), color = \"cornflowerblue\") +\n  geom_vline(xintercept = truth, color = \"magenta\", size = 2) +\n  geom_vline(xintercept = mean(dta$guess, na.rm = TRUE), size = 2) +\n  geom_label_repel(data = answ, aes(x = value, y = 2, label = name)) +\n  theme(plot.title.position = \"plot\") +\n  labs(\n    x = \"Class Guesses\",\n    y = NULL,\n    title = \"A Cool Figure\"\n  )\n\n```\n\nOr perhaps my favorite:\n\n```{r}\ndta %>% \n  ggplot(aes(dist, reorder(first, dist))) +\n  geom_col(aes(fill = ifelse(dist > 0, \"plus\", \"minus\"))) +\n  geom_vline(xintercept = 0, color = \"magenta\", size = .5) +\n  geom_vline(xintercept = mean(dta$guess, na.rm = TRUE) - truth, size = 2) +\n  ggrepel::geom_label_repel(data = filter(answ, name == \"Class Mean\"), \n                            aes(x = value - truth, y = -1, label = name),\n                            min.segment.length = 0) +\n  ggthemes::scale_fill_colorblind() +\n  theme(legend.position=\"none\",\n        plot.title.position = \"plot\") +\n  labs(\n    x = \"Guesses Distance from Truth\",\n    y = NULL,\n    title = \"Distance from Truth\"\n  )\n```\n\nNow let's get to the results...\n\nThe actual number of popcorn kernels in the jar was **`r format(truth, big.mark = \",\")`**.\n\nThe person closest to the truth was **`r slice(dta, which.min(abs(dist))) %>% pull(first)`** with a guess of **`r slice(dta, which.min(abs(dist))) %>% pull(guess) %>% format(., big.mark = \",\")`** kernels - off by `r abs(slice(dta, which.min(abs(dist))) %>% pull(guess) - truth)` kernels!\n\nThe class mean was **`r format(round(mean(dta$guess, na.rm = TRUE)), big.mark = \",\")`** (*SD* = `r format(round(sd(dta$guess, na.rm = TRUE)), big.mark = \",\")`) - off by `r abs(round(mean(dta$guess, na.rm = TRUE)) - truth)` kernels.\n\nSo to answer our research question...\n\n```{r, results='asis'}\nif(abs(mean(dta$guess, na.rm = TRUE) - truth) < abs(slice(dta, which.min(abs(dist))) %>% pull(guess) - truth)) {\n   cat(\"Hypothosis confirmed! The class average was more accurate than any one person!\")\n} else if (abs(mean(dta$guess, na.rm = TRUE) - truth) > abs(slice(dta, which.min(abs(dist))) %>% pull(guess) - truth)) {\n   cat(paste0(\"**Hypthosis rejected! \", slice(dta, which.min(abs(dist))) %>% pull(first), \"'s guess was closer than the class average! Replication crisis?**\")) \n} else if (abs(mean(dta$guess, na.rm = TRUE) - truth) == abs(slice(dta, which.min(abs(dist))) %>% pull(guess) - truth)) {\n  cat(paste0(\"What?! It was a tie! \", slice(dta, which.min(abs(dist))) %>% pull(first), \"'s guess was the same as the class average!\"))\n}\n```\n\n# Discussion\n\nWait! I'm having fun with this, so let's look at major and ID number!\n\n```{r}\ndta_smry <- dta %>% \n  group_by(major) %>% \n  summarize(mean_guess = mean(guess, na.rm = TRUE))\n\nggplot(dta, aes(guess, fct_reorder(major, guess), group = major)) +\n  geom_point() +\n  stat_summary(fun = \"mean\", \n               geom = \"crossbar\",\n               width = .5,\n               color = \"red\") +\n  geom_vline(xintercept = truth, color = \"magenta\", size = 1) +\n  labs(\n    x = \"Kernel Guess\",\n    y = \"Major\",\n    title = \"Guesses by Major\"\n  ) +\n  theme(plot.title.position = \"plot\")\n```\n\n```{r}\nggplot(dta, aes(guess, id, group = id)) +\n  geom_point() +\n  stat_summary(fun = \"mean\", \n               geom = \"crossbar\",\n               width = .5,\n               color = \"red\") +\n  geom_vline(xintercept = truth, color = \"magenta\", size = 1) +\n  labs(\n    x = \"UO ID\",\n    y = \"Kernel Guess\",\n    title = \"Guesses by UO ID\"\n  ) +\n  theme(plot.title.position = \"plot\")\n```\n\nLet's run (bad) a regression!\n\n```{r}\nm1 <- lm(dist ~ major + id, data = dta)\n\nmodel_parameters(m1) %>%\n  as_tibble() %>% \n  select(-c(CI, df_error, t)) %>% \n  mutate(across(c(2:5), ~round(., 1)),\n         p = round(p, 3)) %>% \n  kable(booktabs = TRUE,\n        align = c(\"l\", \"r\", \"r\", \"r\", \"r\", \"r\"),\n        caption = \"These are the Regression Results\")\n```\n\n# References\n","srcMarkdownNoYaml":"\n\n```{r}\n#| message: false\n\nlibrary(tidyverse)\nlibrary(here)\nlibrary(ggthemes)\nlibrary(ggrepel)\nlibrary(reactable)\nlibrary(parameters)\nlibrary(knitr)\n\ntheme_set(theme_minimal(base_size = 18))\n```\n\n# Introduction\n\nThis is the great popcorn experiment! An under-powered (mediocre) scientific replication of the famous historical event (folktale?) in statistics in which each person in town was asked to guess the weight of the ox. Having no knowledge of oxen, no person correctly guessed the weight, but the average of all guesses was within one pound of the ox's weight! What an inspiring story of collectivism, the strength in numbers, and the power of data, data science, and statistics! We are better together.\n\n```{r}\ntruth <- 3224\n\ndta <- read_csv(here(\"nopublish\", \"popcorn\", \"popcorn_data.csv\")) %>% \n  mutate(id = ifelse(uo_id %% 2 == 0, \"even\", \"odd\"),\n         initials = paste0(str_sub(first, 1, 1), str_sub(last, 1, 2)),\n         dist = guess - truth) %>% \n  select(-uo_id)\n\nansw <- tibble(\n  name = c(\"Class Mean\", \"Truth\"),\n  value = c(round(mean(dta$guess, na.rm = TRUE)), truth)\n)\n```\n\n# Method\n\nWe used the following packages: `ggrepel` [@ggrepel], `ggthemes` [@ggthemes], `here` [@here], `knitr` [@knitr], `parameters` [@parameters], `reactable` [@reactable], and `tidyverse` [@tidyverse].\n\n### Research Question\n\n1.  Is the average of the class's popcorn guesses closer to the actual number of popcorn kernels in the jar than any one person?\n\nOur hypothesis is that the class average will be more accurate than the guess of any one person.\n\n# Results\n\nFirst, let's look at a density plot, which shows the distribution of the class guesses.\n\n```{r}\ndta %>% \n  ggplot(aes(guess)) +\n  geom_density() +\n  geom_vline(xintercept = truth, color = \"magenta\", size = 2) +\n  geom_vline(xintercept = mean(dta$guess, na.rm = TRUE), size = 2) +\n  ggrepel::geom_label_repel(data = answ, aes(x = value, y = .0005, label = name)) +\n  theme(plot.title.position = \"plot\",\n        axis.text.y = element_blank()) +\n  labs(\n    x = \"Class Guesses\",\n    y = NULL,\n    title = \"Class Guesses\",\n    subtitle = \"Density Plot\"\n  )\n```\n\nAnd here is a table of the class guesses. You can filter and sort it!\n\n```{r}\ndta %>% \n  select(first, guess) %>% \n  reactable(filterable = TRUE, searchable = TRUE)\n```\n\nHere is another cool data visualization.\n\n```{r}\n\ndta %>% \n  ggplot(aes(guess, reorder(first, guess), group = 1)) +\n  geom_point(size = 2.5) +\n  geom_segment(aes(x = 0, xend = guess, y = first, yend = first), color = \"cornflowerblue\") +\n  geom_vline(xintercept = truth, color = \"magenta\", size = 2) +\n  geom_vline(xintercept = mean(dta$guess, na.rm = TRUE), size = 2) +\n  geom_label_repel(data = answ, aes(x = value, y = 2, label = name)) +\n  theme(plot.title.position = \"plot\") +\n  labs(\n    x = \"Class Guesses\",\n    y = NULL,\n    title = \"A Cool Figure\"\n  )\n\n```\n\nOr perhaps my favorite:\n\n```{r}\ndta %>% \n  ggplot(aes(dist, reorder(first, dist))) +\n  geom_col(aes(fill = ifelse(dist > 0, \"plus\", \"minus\"))) +\n  geom_vline(xintercept = 0, color = \"magenta\", size = .5) +\n  geom_vline(xintercept = mean(dta$guess, na.rm = TRUE) - truth, size = 2) +\n  ggrepel::geom_label_repel(data = filter(answ, name == \"Class Mean\"), \n                            aes(x = value - truth, y = -1, label = name),\n                            min.segment.length = 0) +\n  ggthemes::scale_fill_colorblind() +\n  theme(legend.position=\"none\",\n        plot.title.position = \"plot\") +\n  labs(\n    x = \"Guesses Distance from Truth\",\n    y = NULL,\n    title = \"Distance from Truth\"\n  )\n```\n\nNow let's get to the results...\n\nThe actual number of popcorn kernels in the jar was **`r format(truth, big.mark = \",\")`**.\n\nThe person closest to the truth was **`r slice(dta, which.min(abs(dist))) %>% pull(first)`** with a guess of **`r slice(dta, which.min(abs(dist))) %>% pull(guess) %>% format(., big.mark = \",\")`** kernels - off by `r abs(slice(dta, which.min(abs(dist))) %>% pull(guess) - truth)` kernels!\n\nThe class mean was **`r format(round(mean(dta$guess, na.rm = TRUE)), big.mark = \",\")`** (*SD* = `r format(round(sd(dta$guess, na.rm = TRUE)), big.mark = \",\")`) - off by `r abs(round(mean(dta$guess, na.rm = TRUE)) - truth)` kernels.\n\nSo to answer our research question...\n\n```{r, results='asis'}\nif(abs(mean(dta$guess, na.rm = TRUE) - truth) < abs(slice(dta, which.min(abs(dist))) %>% pull(guess) - truth)) {\n   cat(\"Hypothosis confirmed! The class average was more accurate than any one person!\")\n} else if (abs(mean(dta$guess, na.rm = TRUE) - truth) > abs(slice(dta, which.min(abs(dist))) %>% pull(guess) - truth)) {\n   cat(paste0(\"**Hypthosis rejected! \", slice(dta, which.min(abs(dist))) %>% pull(first), \"'s guess was closer than the class average! Replication crisis?**\")) \n} else if (abs(mean(dta$guess, na.rm = TRUE) - truth) == abs(slice(dta, which.min(abs(dist))) %>% pull(guess) - truth)) {\n  cat(paste0(\"What?! It was a tie! \", slice(dta, which.min(abs(dist))) %>% pull(first), \"'s guess was the same as the class average!\"))\n}\n```\n\n# Discussion\n\nWait! I'm having fun with this, so let's look at major and ID number!\n\n```{r}\ndta_smry <- dta %>% \n  group_by(major) %>% \n  summarize(mean_guess = mean(guess, na.rm = TRUE))\n\nggplot(dta, aes(guess, fct_reorder(major, guess), group = major)) +\n  geom_point() +\n  stat_summary(fun = \"mean\", \n               geom = \"crossbar\",\n               width = .5,\n               color = \"red\") +\n  geom_vline(xintercept = truth, color = \"magenta\", size = 1) +\n  labs(\n    x = \"Kernel Guess\",\n    y = \"Major\",\n    title = \"Guesses by Major\"\n  ) +\n  theme(plot.title.position = \"plot\")\n```\n\n```{r}\nggplot(dta, aes(guess, id, group = id)) +\n  geom_point() +\n  stat_summary(fun = \"mean\", \n               geom = \"crossbar\",\n               width = .5,\n               color = \"red\") +\n  geom_vline(xintercept = truth, color = \"magenta\", size = 1) +\n  labs(\n    x = \"UO ID\",\n    y = \"Kernel Guess\",\n    title = \"Guesses by UO ID\"\n  ) +\n  theme(plot.title.position = \"plot\")\n```\n\nLet's run (bad) a regression!\n\n```{r}\nm1 <- lm(dist ~ major + id, data = dta)\n\nmodel_parameters(m1) %>%\n  as_tibble() %>% \n  select(-c(CI, df_error, t)) %>% \n  mutate(across(c(2:5), ~round(., 1)),\n         p = round(p, 3)) %>% \n  kable(booktabs = TRUE,\n        align = c(\"l\", \"r\", \"r\", \"r\", \"r\", \"r\"),\n        caption = \"These are the Regression Results\")\n```\n\n# References\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"popcorn-experiment.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","editor":"visual","theme":"cosmo","mainfont":"Atkinson Hyperlegible","title":"The Great Popcorn Experiment!","author":"Joe Nese and EDLD 651","date":"9/27/2023","bibliography":["popcorn_bib.bib"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}